Enter your prompt here

# Project Files

- c:\Users\rexma\Desktop\chambing-website\src\components\common\footer.jsx
- c:\Users\rexma\Desktop\chambing-website\src\pages\Dashboard.jsx
- c:\Users\rexma\Desktop\chambing-website\src\components\ProfilePhotoModal.jsx
- c:\Users\rexma\Desktop\chambing-website\src\services\profileService.js
- c:\Users\rexma\Desktop\chambing-website\src\components\common\navbar.jsx
- c:\Users\rexma\Desktop\chambing-website\src\theme\muiTheme.js
- c:\Users\rexma\Desktop\chambing-website\src\styles\variables.scss
- c:\Users\rexma\Desktop\chambing-website\src\components\auth\RegisterForm.jsx
- c:\Users\rexma\Desktop\chambing-website\src\context\AuthContext.jsx
- c:\Users\rexma\Desktop\chambing-website\src\components\auth\LoginForm.jsx
- c:\Users\rexma\Desktop\chambing-website\src\components\auth\ProtectedRoute.jsx
- c:\Users\rexma\Desktop\chambing-website\src\context\AppContext.jsx
- c:\Users\rexma\Desktop\chambing-website\src\hooks\useApi.js
- c:\Users\rexma\Desktop\chambing-website\src\hooks\useForm.js
- c:\Users\rexma\Desktop\chambing-website\src\hooks\useLocalStorage.js
- c:\Users\rexma\Desktop\chambing-website\src\hooks\useNotification.js
- c:\Users\rexma\Desktop\chambing-website\src\pages\Home.jsx
- c:\Users\rexma\Desktop\chambing-website\src\services\api.js
- c:\Users\rexma\Desktop\chambing-website\src\services\authService.js
- c:\Users\rexma\Desktop\chambing-website\src\services\contractService.js
- c:\Users\rexma\Desktop\chambing-website\src\services\paymentsService.js
- c:\Users\rexma\Desktop\chambing-website\src\services\serviceService.js
- c:\Users\rexma\Desktop\chambing-website\src\services\userService.js
- c:\Users\rexma\Desktop\chambing-website\src\styles\globals.scss
- c:\Users\rexma\Desktop\chambing-website\src\App.jsx
- c:\Users\rexma\Desktop\chambing-website\src\main.jsx

## c:\Users\rexma\Desktop\chambing-website\src\components\common\footer.jsx
```
import React from 'react';
import {
  Box,
  Container,
 Grid, // ‚≠ê USAR Grid2
  Typography,
  Link,
  IconButton,
} from '@mui/material';
import {
  Facebook,
  Twitter,
  Instagram,
  Email,
  Phone,
  LocationOn,
} from '@mui/icons-material';

const Footer = () => {
  return (
    <Box
      component="footer"
      sx={{
        bgcolor: 'grey.900',
        color: 'white',
        py: 6,
        mt: 'auto',
      }}
    >
      <Container maxWidth="lg">
        {/* ‚≠ê NUEVA SINTAXIS GRID V2 */}
        <Grid container spacing={4}>
          <Grid size={{ xs: 12, sm: 6, md: 3 }}>
            <Typography variant="h6" gutterBottom>
              ChambingApp
            </Typography>
            <Typography variant="body2" sx={{ mb: 2 }}>
              Conectamos talento con oportunidades en El Salvador.
            </Typography>
            <Box>
              <IconButton color="inherit" aria-label="Facebook">
                <Facebook />
              </IconButton>
              <IconButton color="inherit" aria-label="Twitter">
                <Twitter />
              </IconButton>
              <IconButton color="inherit" aria-label="Instagram">
                <Instagram />
              </IconButton>
            </Box>
          </Grid>
          
          <Grid size={{ xs: 12, sm: 6, md: 3 }}>
            <Typography variant="h6" gutterBottom>
              Servicios
            </Typography>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Limpieza Dom√©stica
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Plomer√≠a
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Electricidad
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Jardiner√≠a
            </Link>
          </Grid>
          
          <Grid size={{ xs: 12, sm: 6, md: 3 }}>
            <Typography variant="h6" gutterBottom>
              Empresa
            </Typography>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Acerca de
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              T√©rminos de Servicio
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Pol√≠tica de Privacidad
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Ayuda
            </Link>
          </Grid>
          
          <Grid size={{ xs: 12, sm: 6, md: 3 }}>
            <Typography variant="h6" gutterBottom>
              Contacto
            </Typography>
            <Box display="flex" alignItems="center" sx={{ mb: 1 }}>
              <Email sx={{ mr: 1, fontSize: 'small' }} />
              <Typography variant="body2">info@chambingapp.com</Typography>
            </Box>
            <Box display="flex" alignItems="center" sx={{ mb: 1 }}>
              <Phone sx={{ mr: 1, fontSize: 'small' }} />
              <Typography variant="body2">+503 2234-5678</Typography>
            </Box>
            <Box display="flex" alignItems="center">
              <LocationOn sx={{ mr: 1, fontSize: 'small' }} />
              <Typography variant="body2">San Salvador, El Salvador</Typography>
            </Box>
          </Grid>
        </Grid>
        
        <Box
          sx={{
            borderTop: 1,
            borderColor: 'grey.700',
            pt: 3,
            mt: 4,
            textAlign: 'center',
          }}
        >
          <Typography variant="body2" color="grey.400">
            ¬© 2024 ChambingApp. Todos los derechos reservados.
          </Typography>
        </Box>
      </Container>
    </Box>
  );
};

export default Footer;
```

## c:\Users\rexma\Desktop\chambing-website\src\pages\Dashboard.jsx
```
import React, { useEffect, useState } from 'react';
import {
  Box,
  Container,
  Typography,
  Grid,
  Card,
  CardContent,
  Button,
  Chip,
  CircularProgress,
  Alert,
  AppBar,
  Toolbar,
  IconButton,
  Menu,
  MenuItem,
  Avatar,
  Paper,
  Divider,
} from '@mui/material';
import {
  AccountCircle,
  Work,
  Assignment,
  Payment,
  Logout,
  Notifications,
  Refresh,
  Edit,
  CameraAlt,
} from '@mui/icons-material';
import { useAuth } from '../context/AuthContext';
import { serviceService } from '../services/serviceService';
import { contractService } from '../services/contractService';
import ProfilePhotoModal from '../components/ProfilePhotoModal';

const Dashboard = () => {
  const { user, logout } = useAuth();
  const [categories, setCategories] = useState([]);
  const [contracts, setContracts] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const [anchorEl, setAnchorEl] = useState(null);
  const [photoModalOpen, setPhotoModalOpen] = useState(false);

  useEffect(() => {
    const loadDashboardData = async () => {
      try {
        setLoading(true);
        
        // Cargar categor√≠as de servicios
        try {
          const categoriesData = await serviceService.getCategories();
          setCategories(categoriesData);
        } catch (error) {
          console.error('Error cargando categor√≠as:', error);
          // Usar datos mock si falla
          setCategories([
            { id: 1, nombre: 'Limpieza Dom√©stica', descripcion: 'Servicio de limpieza' },
            { id: 2, nombre: 'Plomer√≠a', descripcion: 'Reparaciones' },
            { id: 3, nombre: 'Electricidad', descripcion: 'Trabajos el√©ctricos' },
            { id: 4, nombre: 'Jardiner√≠a', descripcion: 'Mantenimiento' },
            { id: 5, nombre: 'Carpinter√≠a', descripcion: 'Trabajos en madera' },
            { id: 6, nombre: 'Construcci√≥n', descripcion: 'Obras' },
          ]);
        }

        // Cargar contratos del usuario
        try {
          const contractsData = await contractService.getMyContracts();
          setContracts(contractsData);
        } catch (error) {
          console.error('Error cargando contratos:', error);
          setContracts([]);
        }
        
      } catch (error) {
        console.error('Error loading dashboard data:', error);
        setError('Error al cargar datos del dashboard');
      } finally {
        setLoading(false);
      }
    };

    loadDashboardData();
  }, []);

  const handleMenuOpen = (event) => {
    setAnchorEl(event.currentTarget);
  };

  const handleMenuClose = () => {
    setAnchorEl(null);
  };

  const handleLogout = async () => {
    await logout();
    handleMenuClose();
  };

  const handleRefresh = () => {
    window.location.reload();
  };

  const handlePhotoModalOpen = () => {
    setPhotoModalOpen(true);
  };

  const handlePhotoModalClose = () => {
    setPhotoModalOpen(false);
  };

  const handlePhotoUpdated = (newPhotoUrl) => {
    // La foto ya se actualiza en el contexto, solo cerramos el modal
    console.log('Foto actualizada:', newPhotoUrl);
  };

  // Funci√≥n para renderizar el avatar con foto de perfil
  const renderProfileAvatar = (size = 32) => {
    if (user?.foto_perfil) {
      return (
        <Avatar 
          src={user.foto_perfil} 
          alt={user.nombre}
          sx={{ width: size, height: size }}
          onError={(e) => {
            // Si la imagen falla al cargar, mostrar las iniciales
            e.target.style.display = 'none';
          }}
        />
      );
    }
    
    return (
      <Avatar sx={{ width: size, height: size }}>
        {user?.nombre?.charAt(0) || <AccountCircle />}
      </Avatar>
    );
  };

  if (loading) {
    return (
      <Box display="flex" justifyContent="center" alignItems="center" minHeight="100vh">
        <CircularProgress size={60} />
      </Box>
    );
  }

  return (
    <Box>
      {/* Header */}
      <AppBar position="static">
        <Toolbar>
          <Typography variant="h6" sx={{ flexGrow: 1 }}>
            Dashboard - ChambingApp
          </Typography>
          
          <IconButton color="inherit" onClick={handleRefresh}>
            <Refresh />
          </IconButton>
          
          <IconButton color="inherit">
            <Notifications />
          </IconButton>
          
          <IconButton
            color="inherit"
            onClick={handleMenuOpen}
          >
            {renderProfileAvatar(32)}
          </IconButton>
          
          <Menu
            anchorEl={anchorEl}
            open={Boolean(anchorEl)}
            onClose={handleMenuClose}
          >
            <MenuItem onClick={handleMenuClose}>
              <AccountCircle sx={{ mr: 1 }} />
              Perfil
            </MenuItem>
            <MenuItem onClick={handleLogout}>
              <Logout sx={{ mr: 1 }} />
              Cerrar Sesi√≥n
            </MenuItem>
          </Menu>
        </Toolbar>
      </AppBar>

      <Container maxWidth="lg" sx={{ py: 4 }}>
        {/* Secci√≥n de Perfil Mejorada */}
        <Paper elevation={3} sx={{ p: 3, mb: 4 }}>
          <Grid container spacing={3} alignItems="center">
            <Grid item>
              <Box position="relative">
                {renderProfileAvatar(80)}
                <IconButton
                  size="small"
                  onClick={handlePhotoModalOpen}
                  sx={{
                    position: 'absolute',
                    bottom: -5,
                    right: -5,
                    bgcolor: 'primary.main',
                    color: 'white',
                    '&:hover': { bgcolor: 'primary.dark' }
                  }}
                >
                  <CameraAlt fontSize="small" />
                </IconButton>
              </Box>
            </Grid>
            <Grid item xs>
              <Typography variant="h4" gutterBottom>
                ¬°Bienvenido, {user?.nombre}!
              </Typography>
              <Typography variant="body1" color="text.secondary" gutterBottom>
                {user?.email}
              </Typography>
              <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap', mt: 2 }}>
                <Chip 
                  label={`Tipo: ${user?.tipo_usuario || 'Usuario'}`} 
                  color="primary" 
                  variant="outlined"
                  size="small"
                />
                {user?.departamento && (
                  <Chip 
                    label={`${user.departamento}, ${user.municipio}`} 
                    color="info" 
                    variant="outlined"
                    size="small"
                  />
                )}
                {user?.telefono && (
                  <Chip 
                    label={user.telefono} 
                    color="secondary" 
                    variant="outlined"
                    size="small"
                  />
                )}
              </Box>
            </Grid>
            <Grid item>
              <Button
                variant="outlined"
                startIcon={<Edit />}
                onClick={() => {
                  // Aqu√≠ puedes abrir un modal para editar perfil
                  console.log('Editar perfil');
                }}
              >
                Editar Perfil
              </Button>
            </Grid>
          </Grid>
        </Paper>

        {error && (
          <Alert severity="error" sx={{ mb: 3 }}>
            {error}
          </Alert>
        )}

        <Alert severity="success" sx={{ mb: 3 }}>
          üéâ ¬°Conexi√≥n exitosa con la API! Tu usuario est√° autenticado correctamente.
        </Alert>

        <Grid container spacing={4}>
          {/* Estad√≠sticas r√°pidas */}
          <Grid item xs={12} sm={6} md={3}>
            <Card>
              <CardContent>
                <Box display="flex" alignItems="center">
                  <Work color="primary" sx={{ mr: 2, fontSize: 40 }} />
                  <Box>
                    <Typography variant="h5">{categories.length}</Typography>
                    <Typography variant="body2" color="text.secondary">
                      Servicios Disponibles
                    </Typography>
                  </Box>
                </Box>
              </CardContent>
            </Card>
          </Grid>

          <Grid item xs={12} sm={6} md={3}>
            <Card>
              <CardContent>
                <Box display="flex" alignItems="center">
                  <Assignment color="primary" sx={{ mr: 2, fontSize: 40 }} />
                  <Box>
                    <Typography variant="h5">{contracts.length}</Typography>
                    <Typography variant="body2" color="text.secondary">
                      Mis Contratos
                    </Typography>
                  </Box>
                </Box>
              </CardContent>
            </Card>
          </Grid>

          <Grid item xs={12} sm={6} md={3}>
            <Card>
              <CardContent>
                <Box display="flex" alignItems="center">
                  <Payment color="primary" sx={{ mr: 2, fontSize: 40 }} />
                  <Box>
                    <Typography variant="h5">$0.00</Typography>
                    <Typography variant="body2" color="text.secondary">
                      Saldo Disponible
                    </Typography>
                  </Box>
                </Box>
              </CardContent>
            </Card>
          </Grid>

          <Grid item xs={12} sm={6} md={3}>
            <Card>
              <CardContent>
                <Box display="flex" alignItems="center">
                  <Notifications color="primary" sx={{ mr: 2, fontSize: 40 }} />
                  <Box>
                    <Typography variant="h5">0</Typography>
                    <Typography variant="body2" color="text.secondary">
                      Notificaciones
                    </Typography>
                  </Box>
                </Box>
              </CardContent>
            </Card>
          </Grid>

          {/* Servicios disponibles */}
          <Grid item xs={12}>
            <Typography variant="h5" gutterBottom>
              Servicios Disponibles
            </Typography>
            <Grid container spacing={2}>
              {categories.slice(0, 6).map((category) => (
                <Grid item xs={12} sm={6} md={4} key={category.id}>
                  <Card sx={{ height: '100%' }}>
                    <CardContent>
                      <Typography variant="h6" gutterBottom>
                        {category.nombre}
                      </Typography>
                      <Typography variant="body2" color="text.secondary" gutterBottom>
                        {category.descripcion}
                      </Typography>
                      <Button variant="outlined" size="small">
                        Ver Trabajadores
                      </Button>
                    </CardContent>
                  </Card>
                </Grid>
              ))}
            </Grid>
          </Grid>

          {/* Contratos recientes */}
          <Grid item xs={12}>
            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>
              <Typography variant="h5">
                Contratos Recientes
              </Typography>
              <Button variant="outlined" startIcon={<Assignment />}>
                Ver Todos
              </Button>
            </Box>
            
            {contracts.length > 0 ? (
              <Grid container spacing={2}>
                {contracts.slice(0, 3).map((contract) => (
                  <Grid item xs={12} sm={6} md={4} key={contract.id}>
                    <Card>
                      <CardContent>
                        <Typography variant="h6" gutterBottom>
                          Contrato #{contract.id}
                        </Typography>
                        <Typography variant="body2" color="text.secondary">
                          Estado: {contract.estado}
                        </Typography>
                        <Typography variant="body2" color="text.secondary">
                          Fecha: {new Date(contract.fechaCreacion).toLocaleDateString()}
                        </Typography>
                        <Button size="small" variant="text" sx={{ mt: 1 }}>
                          Ver Detalles
                        </Button>
                      </CardContent>
                    </Card>
                  </Grid>
                ))}
              </Grid>
            ) : (
              <Card>
                <CardContent sx={{ textAlign: 'center', py: 4 }}>
                  <Assignment sx={{ fontSize: 60, color: 'text.secondary', mb: 2 }} />
                  <Typography variant="h6" gutterBottom>
                    No tienes contratos a√∫n
                  </Typography>
                  <Typography variant="body2" color="text.secondary" gutterBottom>
                    Comienza explorando nuestros servicios disponibles
                  </Typography>
                  <Button variant="contained" sx={{ mt: 2 }}>
                    Explorar Servicios
                  </Button>
                </CardContent>
              </Card>
            )}
          </Grid>

          {/* Debug info */}
          <Grid item xs={12}>
            <Card sx={{ bgcolor: 'grey.50' }}>
              <CardContent>
                <Typography variant="h6" gutterBottom>
                  üîß Informaci√≥n de Debug
                </Typography>
                <Typography variant="body2" component="div">
                  ‚Ä¢ Usuario autenticado: ‚úÖ {user?.email}<br/>
                  ‚Ä¢ Foto de perfil: {user?.foto_perfil ? '‚úÖ S√≠' : '‚ùå No'}<br/>
                  ‚Ä¢ URL foto: {user?.foto_perfil || 'No disponible'}<br/>
                  ‚Ä¢ Categor√≠as cargadas: {categories.length}<br/>
                  ‚Ä¢ Contratos cargados: {contracts.length}<br/>
                  ‚Ä¢ Estado de carga: {loading ? 'Cargando...' : 'Completo'}<br/>
                  ‚Ä¢ API URL: {import.meta.env.VITE_API_URL || 'http://localhost:3001'}<br/>
                  ‚Ä¢ Token guardado: {localStorage.getItem('token') ? '‚úÖ S√≠' : '‚ùå No'}
                </Typography>
              </CardContent>
            </Card>
          </Grid>
        </Grid>
      </Container>

      {/* Modal para cambiar foto de perfil */}
      <ProfilePhotoModal
        open={photoModalOpen}
        onClose={handlePhotoModalClose}
        onPhotoUpdated={handlePhotoUpdated}
      />
    </Box>
  );
};

export default Dashboard;
```

## c:\Users\rexma\Desktop\chambing-website\src\components\ProfilePhotoModal.jsx
```
import React, { useState, useRef } from 'react';
import {
  Dialog,
  DialogTitle,
  DialogContent,
  DialogActions,
  Button,
  Box,
  Avatar,
  Typography,
  CircularProgress,
  Alert,
  IconButton,
} from '@mui/material';
import {
  PhotoCamera,
  AccountCircle,
  Close,
} from '@mui/icons-material';
import { useAuth } from '../context/AuthContext';

const ProfilePhotoModal = ({ open, onClose, onPhotoUpdated }) => {
  const { user, updateUser } = useAuth();
  const [selectedFile, setSelectedFile] = useState(null);
  const [previewUrl, setPreviewUrl] = useState(null);
  const [uploading, setUploading] = useState(false);
  const [error, setError] = useState(null);
  const fileInputRef = useRef(null);

  const handleFileSelect = (event) => {
    const file = event.target.files[0];
    
    if (!file) return;

    // Validar tipo de archivo
    const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp'];
    if (!allowedTypes.includes(file.type)) {
      setError('Solo se permiten archivos JPG, PNG o WebP');
      return;
    }

    // Validar tama√±o (5MB m√°ximo)
    if (file.size > 5 * 1024 * 1024) {
      setError('El archivo no puede ser mayor a 5MB');
      return;
    }

    setError(null);
    setSelectedFile(file);

    // Crear preview
    const reader = new FileReader();
    reader.onload = (e) => {
      setPreviewUrl(e.target.result);
    };
    reader.readAsDataURL(file);
  };

  const handleUpload = async () => {
    if (!selectedFile) return;

    setUploading(true);
    setError(null);

    try {
      const formData = new FormData();
      formData.append('file', selectedFile);

      const token = localStorage.getItem('token');
      const response = await fetch(
        `${import.meta.env.VITE_API_URL || 'http://localhost:3001'}/users/profile-photo`,
        {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${token}`,
          },
          body: formData,
        }
      );

      if (!response.ok) {
        const errorData = await response.json();
        throw new Error(errorData.message || 'Error al subir la foto');
      }

      const result = await response.json();
      
      // Actualizar el usuario en el contexto
      if (updateUser) {
        updateUser({
          ...user,
          foto_perfil: result.data.foto_perfil
        });
      }

      // Llamar callback si existe
      if (onPhotoUpdated) {
        onPhotoUpdated(result.data.foto_perfil);
      }

      // Cerrar modal
      handleClose();
      
    } catch (error) {
      console.error('Error uploading photo:', error);
      setError(error.message || 'Error al subir la foto');
    } finally {
      setUploading(false);
    }
  };

  const handleClose = () => {
    setSelectedFile(null);
    setPreviewUrl(null);
    setError(null);
    setUploading(false);
    onClose();
  };

  const getCurrentPhotoUrl = () => {
    return previewUrl || user?.foto_perfil;
  };

  return (
    <Dialog 
      open={open} 
      onClose={handleClose}
      maxWidth="sm"
      fullWidth
    >
      <DialogTitle>
        <Box display="flex" justifyContent="space-between" alignItems="center">
          <Typography variant="h6">
            Cambiar Foto de Perfil
          </Typography>
          <IconButton onClick={handleClose}>
            <Close />
          </IconButton>
        </Box>
      </DialogTitle>

      <DialogContent>
        <Box display="flex" flexDirection="column" alignItems="center" py={2}>
          {/* Vista previa de la foto */}
          <Box position="relative" mb={3}>
            <Avatar
              src={getCurrentPhotoUrl()}
              sx={{ 
                width: 120, 
                height: 120,
                mb: 2
              }}
            >
              {!getCurrentPhotoUrl() && (user?.nombre?.charAt(0) || <AccountCircle />)}
            </Avatar>
            
            <IconButton
              onClick={() => fileInputRef.current?.click()}
              sx={{
                position: 'absolute',
                bottom: 8,
                right: 8,
                bgcolor: 'primary.main',
                color: 'white',
                '&:hover': { bgcolor: 'primary.dark' }
              }}
              disabled={uploading}
            >
              <PhotoCamera />
            </IconButton>
          </Box>

          {/* Input de archivo oculto */}
          <input
            ref={fileInputRef}
            type="file"
            accept="image/jpeg,image/jpg,image/png,image/webp"
            onChange={handleFileSelect}
            style={{ display: 'none' }}
          />

          {/* Informaci√≥n del archivo seleccionado */}
          {selectedFile && (
            <Box textAlign="center" mb={2}>
              <Typography variant="body2" color="text.secondary">
                Archivo seleccionado: {selectedFile.name}
              </Typography>
              <Typography variant="caption" color="text.secondary">
                Tama√±o: {(selectedFile.size / 1024 / 1024).toFixed(2)} MB
              </Typography>
            </Box>
          )}

          {/* Mensaje de error */}
          {error && (
            <Alert severity="error" sx={{ width: '100%', mb: 2 }}>
              {error}
            </Alert>
          )}

          {/* Instrucciones */}
          <Typography variant="body2" color="text.secondary" textAlign="center">
            Haz clic en el icono de la c√°mara para seleccionar una nueva foto.
            <br />
            Formatos permitidos: JPG, PNG, WebP (m√°ximo 5MB)
          </Typography>
        </Box>
      </DialogContent>

      <DialogActions>
        <Button onClick={handleClose} disabled={uploading}>
          Cancelar
        </Button>
        <Button
          onClick={handleUpload}
          variant="contained"
          disabled={!selectedFile || uploading}
          startIcon={uploading ? <CircularProgress size={20} /> : null}
        >
          {uploading ? 'Subiendo...' : 'Guardar Foto'}
        </Button>
      </DialogActions>
    </Dialog>
  );
};

export default ProfilePhotoModal;
```

## c:\Users\rexma\Desktop\chambing-website\src\services\profileService.js
```

```

## c:\Users\rexma\Desktop\chambing-website\src\components\common\navbar.jsx
```
import React, { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import {
  AppBar,
  Toolbar,
  Typography,
  Button,
  Box,
  IconButton,
  Menu,
  MenuItem,
  Avatar,
  useTheme,
  useMediaQuery,
  Drawer,
  List,
  ListItem,
  ListItemText,
} from '@mui/material';
import {
  Menu as MenuIcon,
  AccountCircle,
  Logout,
  Dashboard,
  Work,
} from '@mui/icons-material';
import { useAuth } from '../../context/AuthContext';

const Navbar = () => {
  const { user, isAuthenticated, logout } = useAuth();
  const navigate = useNavigate();
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));
  
  const [anchorEl, setAnchorEl] = useState(null);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  const handleMenuOpen = (event) => {
    setAnchorEl(event.currentTarget);
  };

  const handleMenuClose = () => {
    setAnchorEl(null);
  };

  const handleLogout = async () => {
    await logout();
    handleMenuClose();
    navigate('/');
  };

  const handleMobileMenuToggle = () => {
    setMobileMenuOpen(!mobileMenuOpen);
  };

  const menuItems = [
    { label: 'Inicio', path: '/', icon: null },
    { label: 'Servicios', path: '/servicios', icon: <Work /> },
  ];

  const authMenuItems = isAuthenticated
    ? [
        { label: 'Dashboard', path: '/dashboard', icon: <Dashboard /> },
        { label: 'Mi Perfil', path: '/perfil', icon: <AccountCircle /> },
      ]
    : [
        { label: 'Iniciar Sesi√≥n', path: '/login', icon: null },
        { label: 'Registrarse', path: '/register', icon: null },
      ];

  const MobileMenu = () => (
    <Drawer
      anchor="left"
      open={mobileMenuOpen}
      onClose={handleMobileMenuToggle}
    >
      <Box sx={{ width: 250, pt: 2 }}>
        <List>
          {[...menuItems, ...authMenuItems].map((item, index) => (
            <ListItem
              button
              key={index}
              component={Link}
              to={item.path}
              onClick={handleMobileMenuToggle}
            >
              {item.icon && <Box sx={{ mr: 2 }}>{item.icon}</Box>}
              <ListItemText primary={item.label} />
            </ListItem>
          ))}
          {isAuthenticated && (
            <ListItem button onClick={handleLogout}>
              <Box sx={{ mr: 2 }}>
                <Logout />
              </Box>
              <ListItemText primary="Cerrar Sesi√≥n" />
            </ListItem>
          )}
        </List>
      </Box>
    </Drawer>
  );

  return (
    <>
      <AppBar position="sticky" elevation={1}>
        <Toolbar>
          {isMobile && (
            <IconButton
              color="inherit"
              edge="start"
              onClick={handleMobileMenuToggle}
              sx={{ mr: 2 }}
            >
              <MenuIcon />
            </IconButton>
          )}
          
          <Typography
            variant="h6"
            component={Link}
            to="/"
            sx={{
              flexGrow: 1,
              textDecoration: 'none',
              color: 'inherit',
              fontWeight: 'bold',
            }}
          >
            ChambingApp
          </Typography>

          {!isMobile && (
            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>
              {menuItems.map((item, index) => (
                <Button
                  key={index}
                  color="inherit"
                  component={Link}
                  to={item.path}
                >
                  {item.label}
                </Button>
              ))}
              
              {isAuthenticated ? (
                <>
                  <Button
                    color="inherit"
                    component={Link}
                    to="/dashboard"
                    startIcon={<Dashboard />}
                  >
                    Dashboard
                  </Button>
                  <IconButton color="inherit" onClick={handleMenuOpen}>
                    <Avatar sx={{ width: 32, height: 32 }}>
                      {user?.nombre?.charAt(0) || <AccountCircle />}
                    </Avatar>
                  </IconButton>
                </>
              ) : (
                <>
                  <Button color="inherit" component={Link} to="/login">
                    Iniciar Sesi√≥n
                  </Button>
                  <Button
                    variant="contained"
                    color="secondary"
                    component={Link}
                    to="/register"
                    sx={{ ml: 1 }}
                  >
                    Registrarse
                  </Button>
                </>
              )}
            </Box>
          )}
        </Toolbar>
      </AppBar>

      <Menu
        anchorEl={anchorEl}
        open={Boolean(anchorEl)}
        onClose={handleMenuClose}
      >
        <MenuItem component={Link} to="/perfil" onClick={handleMenuClose}>
          <AccountCircle sx={{ mr: 1 }} />
          Mi Perfil
        </MenuItem>
        <MenuItem onClick={handleLogout}>
          <Logout sx={{ mr: 1 }} />
          Cerrar Sesi√≥n
        </MenuItem>
      </Menu>

      <MobileMenu />
    </>
  );
};

export default Navbar;

```

## c:\Users\rexma\Desktop\chambing-website\src\theme\muiTheme.js
```
// src/theme/muiTheme.js - ARCHIVO FALTANTE
import { createTheme } from '@mui/material/styles';

export const theme = createTheme({
  palette: {
    primary: {
      main: '#2563eb',
      light: '#3b82f6',
      dark: '#1d4ed8',
      contrastText: '#ffffff',
    },
    secondary: {
      main: '#64748b',
      light: '#94a3b8',
      dark: '#475569',
      contrastText: '#ffffff',
    },
    success: {
      main: '#10b981',
      light: '#34d399',
      dark: '#047857',
    },
    warning: {
      main: '#f59e0b',
      light: '#fbbf24',
      dark: '#d97706',
    },
    error: {
      main: '#ef4444',
      light: '#f87171',
      dark: '#dc2626',
    },
    info: {
      main: '#3b82f6',
      light: '#60a5fa',
      dark: '#2563eb',
    },
    background: {
      default: '#f8fafc',
      paper: '#ffffff',
    },
    text: {
      primary: '#1e293b',
      secondary: '#64748b',
    },
    grey: {
      50: '#f8fafc',
      100: '#f1f5f9',
      200: '#e2e8f0',
      300: '#cbd5e1',
      400: '#94a3b8',
      500: '#64748b',
      600: '#475569',
      700: '#334155',
      800: '#1e293b',
      900: '#0f172a',
    },
  },
  typography: {
    fontFamily: '"Roboto", "Helvetica", "Arial", sans-serif',
    h1: {
      fontSize: '2.5rem',
      fontWeight: 700,
      lineHeight: 1.2,
    },
    h2: {
      fontSize: '2rem',
      fontWeight: 600,
      lineHeight: 1.3,
    },
    h3: {
      fontSize: '1.75rem',
      fontWeight: 600,
      lineHeight: 1.3,
    },
    h4: {
      fontSize: '1.5rem',
      fontWeight: 500,
      lineHeight: 1.4,
    },
    h5: {
      fontSize: '1.25rem',
      fontWeight: 500,
      lineHeight: 1.4,
    },
    h6: {
      fontSize: '1rem',
      fontWeight: 500,
      lineHeight: 1.5,
    },
    body1: {
      fontSize: '1rem',
      lineHeight: 1.6,
    },
    body2: {
      fontSize: '0.875rem',
      lineHeight: 1.5,
    },
    button: {
      textTransform: 'none',
      fontWeight: 500,
    },
  },
  shape: {
    borderRadius: 8,
  },
  spacing: 8,
  components: {
    MuiButton: {
      styleOverrides: {
        root: {
          textTransform: 'none',
          borderRadius: '8px',
          fontSize: '1rem',
          fontWeight: 500,
          padding: '8px 16px',
          transition: 'all 0.2s ease-in-out',
          '&:hover': {
            transform: 'translateY(-1px)',
            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.12)',
          },
        },
        containedPrimary: {
          background: 'linear-gradient(45deg, #2563eb 30%, #3b82f6 90%)',
          boxShadow: '0 2px 4px rgba(37, 99, 235, 0.3)',
        },
        sizeLarge: {
          padding: '12px 24px',
          fontSize: '1.1rem',
        },
      },
    },
    MuiTextField: {
      styleOverrides: {
        root: {
          '& .MuiOutlinedInput-root': {
            borderRadius: '8px',
            transition: 'all 0.2s ease-in-out',
            '&:hover': {
              '& .MuiOutlinedInput-notchedOutline': {
                borderColor: '#3b82f6',
              },
            },
            '&.Mui-focused': {
              '& .MuiOutlinedInput-notchedOutline': {
                borderColor: '#2563eb',
                borderWidth: 2,
              },
            },
          },
        },
      },
    },
    MuiCard: {
      styleOverrides: {
        root: {
          borderRadius: '12px',
          boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
          transition: 'all 0.3s ease-in-out',
          border: '1px solid rgba(0, 0, 0, 0.05)',
          '&:hover': {
            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
            transform: 'translateY(-2px)',
          },
        },
      },
    },
    MuiAppBar: {
      styleOverrides: {
        root: {
          boxShadow: '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
          backgroundColor: '#ffffff',
          color: '#1e293b',
        },
      },
    },
    MuiChip: {
      styleOverrides: {
        root: {
          borderRadius: '6px',
          fontWeight: 500,
        },
        colorPrimary: {
          backgroundColor: '#dbeafe',
          color: '#1d4ed8',
        },
        colorSecondary: {
          backgroundColor: '#f1f5f9',
          color: '#475569',
        },
      },
    },
    MuiAlert: {
      styleOverrides: {
        root: {
          borderRadius: '8px',
          border: '1px solid',
        },
        standardSuccess: {
          backgroundColor: '#f0fdf4',
          borderColor: '#22c55e',
          color: '#166534',
        },
        standardError: {
          backgroundColor: '#fef2f2',
          borderColor: '#ef4444',
          color: '#dc2626',
        },
        standardWarning: {
          backgroundColor: '#fffbeb',
          borderColor: '#f59e0b',
          color: '#d97706',
        },
        standardInfo: {
          backgroundColor: '#eff6ff',
          borderColor: '#3b82f6',
          color: '#2563eb',
        },
      },
    },
    MuiAvatar: {
      styleOverrides: {
        root: {
          backgroundColor: '#3b82f6',
          fontWeight: 600,
        },
      },
    },
    MuiDrawer: {
      styleOverrides: {
        paper: {
          borderRadius: '0 12px 12px 0',
          border: 'none',
          boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',
        },
      },
    },
    MuiMenu: {
      styleOverrides: {
        paper: {
          borderRadius: '8px',
          boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)',
          border: '1px solid rgba(0, 0, 0, 0.05)',
        },
      },
    },
    MuiSnackbar: {
      styleOverrides: {
        root: {
          '& .MuiAlert-root': {
            borderRadius: '8px',
          },
        },
      },
    },
  },
  breakpoints: {
    values: {
      xs: 0,
      sm: 600,
      md: 900,
      lg: 1200,
      xl: 1536,
    },
  },
});

// Tema oscuro (para futuro uso)
export const darkTheme = createTheme({
  ...theme,
  palette: {
    mode: 'dark',
    primary: {
      main: '#3b82f6',
      light: '#60a5fa',
      dark: '#2563eb',
    },
    background: {
      default: '#0f172a',
      paper: '#1e293b',
    },
    text: {
      primary: '#f8fafc',
      secondary: '#cbd5e1',
    },
  },
});

export default theme;
```

## c:\Users\rexma\Desktop\chambing-website\src\styles\variables.scss
```
// Colores principales
$primary-color: #2563eb;
$secondary-color: #64748b;
$success-color: #10b981;
$warning-color: #f59e0b;
$danger-color: #ef4444;
$light-color: #f8fafc;
$dark-color: #1e293b;

// Tipograf√≠a
$font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
$font-size-base: 1rem;
$font-weight-normal: 400;
$font-weight-medium: 500;
$font-weight-bold: 700;

// Espaciado
$spacing-xs: 0.25rem;
$spacing-sm: 0.5rem;
$spacing-md: 1rem;
$spacing-lg: 1.5rem;
$spacing-xl: 2rem;
$spacing-2xl: 3rem;

// Breakpoints
$mobile: 768px;
$tablet: 1024px;
$desktop: 1280px;

// Bordes
$border-radius-sm: 0.25rem;
$border-radius-md: 0.5rem;
$border-radius-lg: 0.75rem;
$border-radius-xl: 1rem;

// Sombras
$shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
$shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
$shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
```

## c:\Users\rexma\Desktop\chambing-website\src\components\auth\RegisterForm.jsx
```
import React, { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import {
  Box,
  Container,
  Card,
  CardContent,
  TextField,
  Button,
  Typography,
  Alert,
  InputAdornment,
  IconButton,
  FormControl,
  InputLabel,
  Select,
  MenuItem,
  FormHelperText,
  Divider,
} from '@mui/material';
import { 
  Visibility, 
  VisibilityOff, 
  Email, 
  Lock, 
  Person,
  Phone,
  LocationOn,
  PersonAdd,
} from '@mui/icons-material';
import { useForm } from 'react-hook-form';
import { yupResolver } from '@hookform/resolvers/yup';
import * as yup from 'yup';

const schema = yup.object().shape({
  nombre: yup.string().required('Nombre es requerido'),
  apellido: yup.string().required('Apellido es requerido'),
  email: yup.string().email('Email inv√°lido').required('Email es requerido'),
  telefono: yup.string().required('Tel√©fono es requerido'),
  departamento: yup.string().required('Departamento es requerido'),
  municipio: yup.string().required('Municipio es requerido'),
  password: yup
    .string()
    .min(6, 'La contrase√±a debe tener al menos 6 caracteres')
    .required('Contrase√±a es requerida'),
  confirmPassword: yup
    .string()
    .oneOf([yup.ref('password')], 'Las contrase√±as deben coincidir')
    .required('Confirmar contrase√±a es requerido'),
  tipo: yup.string().oneOf(['cliente', 'trabajador']).required('Tipo de usuario es requerido'),
});

const departamentosSV = [
  'Ahuachap√°n', 'Caba√±as', 'Chalatenango', 'Cuscatl√°n', 'La Libertad',
  'La Paz', 'La Uni√≥n', 'Moraz√°n', 'San Miguel', 'San Salvador',
  'San Vicente', 'Santa Ana', 'Sonsonate', 'Usulut√°n'
];

const RegisterForm = () => {
  const [showPassword, setShowPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const { register: registerUser, loading, error } = useAuth();
  const navigate = useNavigate();

  const {
    register,
    handleSubmit,
    watch,
    formState: { errors },
  } = useForm({
    resolver: yupResolver(schema),
    defaultValues: {
      tipo: 'cliente',
    },
  });

  const watchTipo = watch('tipo');

  const onSubmit = async (data) => {
    try {
      console.log('üöÄ Intentando registro con:', { 
        email: data.email, 
        tipo: data.tipo 
      });
      
      const { confirmPassword, ...userData } = data;
      await registerUser(userData);
      
      console.log('‚úÖ Registro exitoso');
      navigate('/login', { 
        state: { 
          message: 'Registro exitoso. Por favor inicia sesi√≥n.' 
        } 
      });
    } catch (error) {
      console.error('‚ùå Error en registro:', error);
    }
  };

  return (
    <Container maxWidth="md" sx={{ py: 8 }}>
      <Card elevation={3}>
        <CardContent sx={{ p: 4 }}>
          <Box textAlign="center" mb={3}>
            <PersonAdd color="primary" sx={{ fontSize: 48, mb: 2 }} />
            <Typography variant="h4" component="h1" gutterBottom>
              Crear Cuenta
            </Typography>
            <Typography variant="body2" color="text.secondary">
              √önete a la comunidad de ChambingApp
            </Typography>
          </Box>
          
          {error && (
            <Alert severity="error" sx={{ mb: 2 }}>
              {error}
            </Alert>
          )}

          <form onSubmit={handleSubmit(onSubmit)}>
            {/* Tipo de usuario */}
            <FormControl fullWidth margin="normal" error={!!errors.tipo}>
              <InputLabel>Tipo de Usuario</InputLabel>
              <Select
                {...register('tipo')}
                label="Tipo de Usuario"
                defaultValue="cliente"
              >
                <MenuItem value="cliente">
                  Cliente - Busco servicios
                </MenuItem>
                <MenuItem value="trabajador">
                  Trabajador - Ofrezco servicios
                </MenuItem>
              </Select>
              <FormHelperText>
                {errors.tipo?.message || 
                 (watchTipo === 'cliente' ? 
                   'Podr√°s contratar servicios' : 
                   'Podr√°s ofrecer tus servicios')}
              </FormHelperText>
            </FormControl>

            {/* Resto del formulario igual... */}
            {/* [El resto del c√≥digo del RegisterForm permanece igual] */}
            
            <Button
              type="submit"
              fullWidth
              variant="contained"
              size="large"
              disabled={loading}
              sx={{ mt: 3, mb: 2, py: 1.5 }}
            >
              {loading ? 'Creando cuenta...' : 'Crear Cuenta'}
            </Button>

            <Divider sx={{ my: 2 }}>
              <Typography variant="body2" color="text.secondary">
                o
              </Typography>
            </Divider>

            <Box textAlign="center">
              <Typography variant="body2">
                ¬øYa tienes cuenta?{' '}
                <Link 
                  to="/login" 
                  style={{ 
                    color: '#2563eb',
                    textDecoration: 'none',
                    fontWeight: 'bold'
                  }}
                >
                  Inicia sesi√≥n aqu√≠
                </Link>
              </Typography>
            </Box>
          </form>
        </CardContent>
      </Card>
    </Container>
  );
};

export default RegisterForm;
```

## c:\Users\rexma\Desktop\chambing-website\src\context\AuthContext.jsx
```
import React, { createContext, useContext, useState, useReducer, useEffect } from 'react';
import { authService } from '../services/authService'; 

const AuthContext = createContext();

// Debug: Verificar m√∫ltiples instancias
console.log('üîç AuthContext module loaded:', new Date().toISOString());

const authReducer = (state, action) => {
  switch (action.type) {
    case 'LOGIN_START':
      return { ...state, loading: true, error: null };
    case 'LOGIN_SUCCESS':
      // Validaci√≥n para evitar el error
      if (!action.payload) {
        console.error('‚ùå LOGIN_SUCCESS: payload es undefined');
        return {
          ...state,
          loading: false,
          error: 'Error en la respuesta del servidor',
          isAuthenticated: false,
        };
      }
      return {
        ...state,
        loading: false,
        user: action.payload.user || null,
        token: action.payload.access_token || action.payload.token || null,
        isAuthenticated: true,
        error: null,
      };
    case 'LOGIN_FAILURE':
      return {
        ...state,
        loading: false,
        error: action.payload,
        isAuthenticated: false,
      };
    case 'LOGOUT':
      return {
        ...state,
        user: null,
        token: null,
        isAuthenticated: false,
        loading: false,
        error: null,
      };
    case 'SET_USER':
      return {
        ...state,
        user: action.payload,
      };
    case 'UPDATE_USER':
      // Nuevo: Para actualizar datos del usuario manteniendo el resto del estado
      return {
        ...state,
        user: {
          ...state.user,
          ...action.payload
        }
      };
    case 'REFRESH_USER_START':
      return {
        ...state,
        loading: true
      };
    case 'REFRESH_USER_SUCCESS':
      return {
        ...state,
        loading: false,
        user: action.payload,
        error: null
      };
    case 'REFRESH_USER_FAILURE':
      return {
        ...state,
        loading: false,
        error: action.payload
      };
    case 'SET_LOADING':
      return {
        ...state,
        loading: action.payload,
      };
    case 'SET_ERROR':
      return {
        ...state,
        error: action.payload,
        loading: false,
      };
    case 'CLEAR_ERROR':
      return {
        ...state,
        error: null,
      };
    default:
      return state;
  }
};

const initialState = {
  user: null,
  token: null,
  isAuthenticated: false,
  loading: false,
  error: null,
};

export const AuthProvider = ({ children }) => {
  console.log('üîç AuthProvider renderizado');
  const [state, dispatch] = useReducer(authReducer, initialState);

  // Nueva funci√≥n: Refrescar datos del usuario desde el servidor
  const refreshUser = async () => {
    const token = state.token || localStorage.getItem('token');
    
    if (!token) {
      console.log('üîí No token available for refresh');
      return;
    }

    dispatch({ type: 'REFRESH_USER_START' });
    
    try {
      console.log('üîÑ Refreshing user data from server...');
      
      const response = await fetch(
        `${import.meta.env.VITE_API_URL || 'http://localhost:3001'}/users/me`,
        {
          headers: {
            'Authorization': `Bearer ${token}`,
            'Content-Type': 'application/json',
          },
        }
      );

      if (!response.ok) {
        if (response.status === 401) {
          // Token expirado, cerrar sesi√≥n
          console.log('üîí Token expired, logging out');
          dispatch({ type: 'LOGOUT' });
          localStorage.removeItem('token');
          localStorage.removeItem('user');
          return;
        }
        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
      }

      const userData = await response.json();
      console.log('‚úÖ User data refreshed:', {
        id: userData.data?.id,
        email: userData.data?.email,
        hasFoto: !!userData.data?.foto_perfil,
        fotoUrl: userData.data?.foto_perfil || 'No photo'
      });

      dispatch({
        type: 'REFRESH_USER_SUCCESS',
        payload: userData.data
      });

      // Actualizar localStorage
      localStorage.setItem('user', JSON.stringify(userData.data));

    } catch (error) {
      console.error('‚ùå Error refreshing user:', error);
      dispatch({
        type: 'REFRESH_USER_FAILURE',
        payload: error.message
      });
    }
  };

  // Nueva funci√≥n: Debug del estado del usuario
  const debugUserState = async () => {
    const token = state.token || localStorage.getItem('token');
    
    if (!token) {
      console.log('üêõ Debug: No token available');
      return { error: 'No token available' };
    }

    try {
      const response = await fetch(
        `${import.meta.env.VITE_API_URL || 'http://localhost:3001'}/users/debug`,
        {
          headers: {
            'Authorization': `Bearer ${token}`,
          },
        }
      );

      if (response.ok) {
        const debugData = await response.json();
        console.log('üêõ Debug data from server:', debugData);
        return debugData;
      } else {
        console.error('üêõ Debug request failed:', response.status);
        return { error: `HTTP ${response.status}` };
      }
    } catch (error) {
      console.error('üêõ Debug error:', error);
      return { error: error.message };
    }
  };

  useEffect(() => {
    // Check if user is logged in on app start
    const initializeAuth = async () => {
      const token = localStorage.getItem('token');
      const storedUser = localStorage.getItem('user');
      
      if (token) {
        console.log('üîç Found stored token, initializing auth...');
        
        // Si hay usuario en localStorage, √∫salo temporalmente
        if (storedUser) {
          try {
            const user = JSON.parse(storedUser);
            dispatch({
              type: 'LOGIN_SUCCESS',
              payload: { access_token: token, user },
            });
          } catch (error) {
            console.error('‚ùå Error parsing stored user:', error);
          }
        }

        // Siempre refrescar desde el servidor para obtener datos actualizados
        try {
          dispatch({ type: 'SET_LOADING', payload: true });
          await refreshUser();
        } catch (error) {
          console.error('‚ùå Error during auth initialization:', error);
        } finally {
          dispatch({ type: 'SET_LOADING', payload: false });
        }
      } else {
        console.log('üîí No token found');
      }
    };

    initializeAuth();
  }, []);

  const login = async (credentials) => {
    dispatch({ type: 'LOGIN_START' });
    try {
      console.log('üîë AuthContext: Iniciando login...');
      const response = await authService.login(credentials);
      
      // Verificar que la respuesta no sea undefined o null
      if (!response) {
        throw new Error('La respuesta del servidor es undefined');
      }
      
      console.log('‚úÖ AuthContext: Login exitoso', response);
      
      dispatch({
        type: 'LOGIN_SUCCESS',
        payload: response,
      });

      // Despu√©s del login exitoso, refrescar datos del usuario
      console.log('üîÑ Refreshing user data after login...');
      await refreshUser();
      
      return response;
    } catch (error) {
      console.error('‚ùå AuthContext: Error en login', error);
      const errorMessage = error.response?.data?.message || 
                          error.message || 
                          'Error al iniciar sesi√≥n';
      dispatch({
        type: 'LOGIN_FAILURE',
        payload: errorMessage,
      });
      throw error;
    }
  };

  const register = async (userData) => {
    dispatch({ type: 'LOGIN_START' });
    try {
      console.log('üìù AuthContext: Iniciando registro...');
      const response = await authService.register(userData);
      
      // Verificar que la respuesta no sea undefined
      if (!response) {
        throw new Error('La respuesta del servidor es undefined');
      }
      
      console.log('‚úÖ AuthContext: Registro exitoso', response);
      return response;
    } catch (error) {
      console.error('‚ùå AuthContext: Error en registro', error);
      const errorMessage = error.response?.data?.message || 
                          error.message || 
                          'Error al registrarse';
      dispatch({
        type: 'LOGIN_FAILURE',
        payload: errorMessage,
      });
      throw error;
    }
  };

  const logout = async () => {
    try {
      console.log('üö™ AuthContext: Cerrando sesi√≥n...');
      await authService.logout();
    } catch (error) {
      console.error('Error during logout:', error);
    } finally {
      localStorage.removeItem('token');
      localStorage.removeItem('user');
      dispatch({ type: 'LOGOUT' });
      console.log('‚úÖ AuthContext: Sesi√≥n cerrada');
    }
  };

  const updateUser = (userData) => {
    console.log('üîÑ Updating user locally:', userData);
    dispatch({ type: 'UPDATE_USER', payload: userData });
    
    // Actualizar localStorage con los datos completos
    const updatedUser = { ...state.user, ...userData };
    localStorage.setItem('user', JSON.stringify(updatedUser));
  };

  const clearError = () => {
    dispatch({ type: 'CLEAR_ERROR' });
  };

  const setLoading = (loading) => {
    dispatch({ type: 'SET_LOADING', payload: loading });
  };

  const value = {
    ...state,
    login,
    register,
    logout,
    updateUser,
    refreshUser,        // ‚Üê Nueva funci√≥n
    debugUserState,     // ‚Üê Nueva funci√≥n  
    clearError,
    setLoading,
  };

  console.log('üîç AuthProvider value:', {
    hasUser: !!value.user,
    hasToken: !!value.token,
    isAuthenticated: value.isAuthenticated,
    userHasPhoto: !!value.user?.foto_perfil
  });

  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
};

export const useAuth = () => {
  console.log('üîç useAuth llamado');
  const context = useContext(AuthContext);
  
  if (!context) {
    console.error('‚ùå useAuth: Context es undefined!');
    console.error('‚ùå Esto significa que useAuth se est√° llamando fuera del AuthProvider');
    console.trace('‚ùå Stack trace:');
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};
```

## c:\Users\rexma\Desktop\chambing-website\src\components\auth\LoginForm.jsx
```

import React, { useState } from 'react';
import { useNavigate, useLocation, Link } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import {
  Box,
  Container,
  Card,
  CardContent,
  TextField,
  Button,
  Typography,
  Alert,
  InputAdornment,
  IconButton,
  Divider,
  Paper,
} from '@mui/material';
import { 
  Visibility, 
  VisibilityOff, 
  Email, 
  Lock,
  Login as LoginIcon 
} from '@mui/icons-material';
import { useForm } from 'react-hook-form';
import { yupResolver } from '@hookform/resolvers/yup';
import * as yup from 'yup';

const schema = yup.object().shape({
  email: yup
    .string()
    .email('Email inv√°lido')
    .required('Email es requerido'),
  password: yup
    .string()
    .required('Contrase√±a es requerida'),
});

const LoginForm = () => {
  const [showPassword, setShowPassword] = useState(false);
  const { login, loading, error } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();

  const from = location.state?.from?.pathname || '/dashboard';
  const message = location.state?.message;

  const {
    register,
    handleSubmit,
    setValue,
    formState: { errors },
  } = useForm({
    resolver: yupResolver(schema),
  });

  // Funci√≥n para llenar datos de prueba
  const fillTestData = (userType) => {
    if (userType === 'cliente') {
      setValue('email', 'cliente@test.com');
      setValue('password', 'password123');
    } else if (userType === 'trabajador') {
      setValue('email', 'trabajador@test.com');
      setValue('password', 'password123');
    }
  };

  const onSubmit = async (data) => {
    try {
      console.log('üöÄ Intentando login con:', { email: data.email });
      await login(data);
      console.log('‚úÖ Login exitoso, redirigiendo a:', from);
      navigate(from, { replace: true });
    } catch (error) {
      console.error('‚ùå Error en login:', error);
    }
  };

  return (
    <Container maxWidth="sm" sx={{ py: 8 }}>
      <Card elevation={3}>
        <CardContent sx={{ p: 4 }}>
          <Box textAlign="center" mb={3}>
            <LoginIcon color="primary" sx={{ fontSize: 48, mb: 2 }} />
            <Typography variant="h4" component="h1" gutterBottom>
              Iniciar Sesi√≥n
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Accede a tu cuenta de ChambingApp
            </Typography>
          </Box>
          
          {message && (
            <Alert severity="success" sx={{ mb: 2 }}>
              {message}
            </Alert>
          )}

          {error && (
            <Alert severity="error" sx={{ mb: 2 }}>
              {error}
            </Alert>
          )}

          {/* Botones de datos de prueba */}
          <Paper 
            elevation={0} 
            sx={{ 
              bgcolor: 'grey.50', 
              p: 2, 
              mb: 3, 
              borderRadius: 2 
            }}
          >
            <Typography variant="subtitle2" gutterBottom color="text.secondary">
              üß™ Datos de prueba para testing:
            </Typography>
            <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>
              <Button
                size="small"
                variant="outlined"
                onClick={() => fillTestData('cliente')}
              >
                Usuario Cliente
              </Button>
              <Button
                size="small"
                variant="outlined"
                onClick={() => fillTestData('trabajador')}
              >
                Usuario Trabajador
              </Button>
            </Box>
            <Typography variant="caption" display="block" sx={{ mt: 1 }}>
              Haz clic para autocompletar los campos
            </Typography>
          </Paper>

          <form onSubmit={handleSubmit(onSubmit)}>
            <TextField
              {...register('email')}
              fullWidth
              label="Email"
              type="email"
              error={!!errors.email}
              helperText={errors.email?.message}
              margin="normal"
              autoComplete="email"
              InputProps={{
                startAdornment: (
                  <InputAdornment position="start">
                    <Email color="action" />
                  </InputAdornment>
                ),
              }}
            />

            <TextField
              {...register('password')}
              fullWidth
              label="Contrase√±a"
              type={showPassword ? 'text' : 'password'}
              error={!!errors.password}
              helperText={errors.password?.message}
              margin="normal"
              autoComplete="current-password"
              InputProps={{
                startAdornment: (
                  <InputAdornment position="start">
                    <Lock color="action" />
                  </InputAdornment>
                ),
                endAdornment: (
                  <InputAdornment position="end">
                    <IconButton
                      onClick={() => setShowPassword(!showPassword)}
                      edge="end"
                      aria-label="toggle password visibility"
                    >
                      {showPassword ? <VisibilityOff /> : <Visibility />}
                    </IconButton>
                  </InputAdornment>
                ),
              }}
            />

            <Button
              type="submit"
              fullWidth
              variant="contained"
              size="large"
              disabled={loading}
              sx={{ mt: 3, mb: 2, py: 1.5 }}
            >
              {loading ? 'Iniciando sesi√≥n...' : 'Iniciar Sesi√≥n'}
            </Button>

            <Divider sx={{ my: 2 }}>
              <Typography variant="body2" color="text.secondary">
                o
              </Typography>
            </Divider>

            <Box textAlign="center">
              <Typography variant="body2">
                ¬øNo tienes cuenta?{' '}
                <Link 
                  to="/register" 
                  style={{ 
                    textDecoration: 'none',
                    fontWeight: 'bold',
                    color: '#2563eb'  // ‚≠ê CORREGIDO: Solo una propiedad color
                  }}
                >
                  Reg√≠strate aqu√≠
                </Link>
              </Typography>
            </Box>
          </form>
        </CardContent>
      </Card>

      {/* Info de debugging */}
      <Paper
        elevation={1}
        sx={{
          mt: 3,
          p: 2,
          bgcolor: 'info.light',
          color: 'info.contrastText',
        }}
      >
        <Typography variant="subtitle2" gutterBottom>
          üîß Info de Debug:
        </Typography>
        <Typography variant="caption" component="div">
          API URL: {import.meta.env.VITE_API_URL || 'http://localhost:3000'}
        </Typography>
        <Typography variant="caption" component="div">
          Modo: {import.meta.env.MODE}
        </Typography>
        <Typography variant="caption" component="div">
          Backend debe estar corriendo en: http://localhost:3000
        </Typography>
      </Paper>
    </Container>
  );
};

export default LoginForm;
```

## c:\Users\rexma\Desktop\chambing-website\src\components\auth\ProtectedRoute.jsx
```
import React from 'react';
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import { CircularProgress, Box } from '@mui/material';

const ProtectedRoute = ({ children, roles = [] }) => {
  const { isAuthenticated, user, loading } = useAuth();
  const location = useLocation();

  if (loading) {
    return (
      <Box
        display="flex"
        justifyContent="center"
        alignItems="center"
        minHeight="100vh"
      >
        <CircularProgress />
      </Box>
    );
  }

  if (!isAuthenticated) {
    return <Navigate to="/login" state={{ from: location }} replace />;
  }

  // Check roles if specified
  if (roles.length > 0 && user) {
    const hasRequiredRole = roles.some(role => 
      user.roles?.some(userRole => userRole.name === role)
    );
    
    if (!hasRequiredRole) {
      return <Navigate to="/unauthorized" replace />;
    }
  }

  return children;
};

export default ProtectedRoute;
```

## c:\Users\rexma\Desktop\chambing-website\src\context\AppContext.jsx
```
import React, { createContext, useContext, useReducer, useEffect } from 'react';
import { serviceService } from '../services/serviceService';
import { contractService } from '../services/contractService';

const AppContext = createContext();

const appReducer = (state, action) => {
  switch (action.type) {
    case 'SET_LOADING':
      return { ...state, loading: action.payload };
    case 'SET_ERROR':
      return { ...state, error: action.payload, loading: false };
    case 'CLEAR_ERROR':
      return { ...state, error: null };
    case 'SET_CATEGORIES':
      return { ...state, categories: action.payload };
    case 'SET_CONTRACTS':
      return { ...state, contracts: action.payload };
    case 'ADD_CONTRACT':
      return { 
        ...state, 
        contracts: [action.payload, ...state.contracts] 
      };
    case 'UPDATE_CONTRACT':
      return {
        ...state,
        contracts: state.contracts.map(contract =>
          contract.id === action.payload.id ? action.payload : contract
        ),
      };
    case 'SET_NOTIFICATIONS':
      return { ...state, notifications: action.payload };
    case 'ADD_NOTIFICATION':
      return {
        ...state,
        notifications: [action.payload, ...state.notifications],
      };
    case 'REMOVE_NOTIFICATION':
      return {
        ...state,
        notifications: state.notifications.filter(
          notification => notification.id !== action.payload
        ),
      };
    default:
      return state;
  }
};

const initialState = {
  loading: false,
  error: null,
  categories: [],
  contracts: [],
  notifications: [],
};

export const AppProvider = ({ children }) => {
  const [state, dispatch] = useReducer(appReducer, initialState);

  // Load initial data
  useEffect(() => {
    loadCategories();
  }, []);

  const setLoading = (loading) => {
    dispatch({ type: 'SET_LOADING', payload: loading });
  };

  const setError = (error) => {
    dispatch({ type: 'SET_ERROR', payload: error });
  };

  const clearError = () => {
    dispatch({ type: 'CLEAR_ERROR' });
  };

  const loadCategories = async () => {
    try {
      console.log('üìÇ AppContext: Cargando categor√≠as...');
      const categories = await serviceService.getCategories();
      dispatch({ type: 'SET_CATEGORIES', payload: categories });
      console.log('‚úÖ AppContext: Categor√≠as cargadas', categories.length);
    } catch (error) {
      console.error('‚ùå AppContext: Error cargando categor√≠as', error);
      // No mostrar error en UI para categor√≠as, usar datos mock
      const mockCategories = [
        { id: 1, nombre: 'Limpieza Dom√©stica', descripcion: 'Servicio de limpieza para el hogar', icono: 'cleaning' },
        { id: 2, nombre: 'Plomer√≠a', descripcion: 'Reparaciones e instalaciones', icono: 'plumbing' },
        { id: 3, nombre: 'Electricidad', descripcion: 'Trabajos el√©ctricos', icono: 'electrical' },
        { id: 4, nombre: 'Jardiner√≠a', descripcion: 'Mantenimiento de jardines', icono: 'garden' },
        { id: 5, nombre: 'Carpinter√≠a', descripcion: 'Trabajos en madera', icono: 'carpenter' },
        { id: 6, nombre: 'Construcci√≥n', descripcion: 'Obras y remodelaciones', icono: 'build' },
      ];
      dispatch({ type: 'SET_CATEGORIES', payload: mockCategories });
    }
  };

  const loadContracts = async () => {
    try {
      setLoading(true);
      console.log('üìã AppContext: Cargando contratos...');
      const contracts = await contractService.getMyContracts();
      dispatch({ type: 'SET_CONTRACTS', payload: contracts });
      console.log('‚úÖ AppContext: Contratos cargados', contracts.length);
    } catch (error) {
      console.error('‚ùå AppContext: Error cargando contratos', error);
      setError('Error al cargar contratos');
    } finally {
      setLoading(false);
    }
  };

  const createContract = async (contractData) => {
    try {
      setLoading(true);
      console.log('üìù AppContext: Creando contrato...');
      const newContract = await contractService.createContract(contractData);
      dispatch({ type: 'ADD_CONTRACT', payload: newContract });
      addNotification({
        type: 'success',
        message: 'Contrato creado exitosamente',
      });
      console.log('‚úÖ AppContext: Contrato creado', newContract);
      return newContract;
    } catch (error) {
      console.error('‚ùå AppContext: Error creando contrato', error);
      setError('Error al crear contrato');
      throw error;
    } finally {
      setLoading(false);
    }
  };

  const updateContract = async (contractId, updateData) => {
    try {
      setLoading(true);
      console.log('üìù AppContext: Actualizando contrato...');
      const updatedContract = await contractService.updateContractStatus(contractId, updateData);
      dispatch({ type: 'UPDATE_CONTRACT', payload: updatedContract });
      addNotification({
        type: 'success',
        message: 'Contrato actualizado exitosamente',
      });
      return updatedContract;
    } catch (error) {
      console.error('‚ùå AppContext: Error actualizando contrato', error);
      setError('Error al actualizar contrato');
      throw error;
    } finally {
      setLoading(false);
    }
  };

  const addNotification = (notification) => {
    const notificationWithId = {
      id: Date.now(),
      timestamp: new Date(),
      ...notification,
    };
    dispatch({ type: 'ADD_NOTIFICATION', payload: notificationWithId });

    // Auto remove notification after 5 seconds
    setTimeout(() => {
      removeNotification(notificationWithId.id);
    }, 5000);
  };

  const removeNotification = (notificationId) => {
    dispatch({ type: 'REMOVE_NOTIFICATION', payload: notificationId });
  };

  const value = {
    ...state,
    setLoading,
    setError,
    clearError,
    loadCategories,
    loadContracts,
    createContract,
    updateContract,
    addNotification,
    removeNotification,
  };

  return <AppContext.Provider value={value}>{children}</AppContext.Provider>;
};

export const useApp = () => {
  const context = useContext(AppContext);
  if (!context) {
    throw new Error('useApp must be used within an AppProvider');
  }
  return context;
};

```

## c:\Users\rexma\Desktop\chambing-website\src\hooks\useApi.js
```
import { useState, useEffect } from 'react';

export const useApi = (apiFunction, dependencies = []) => {
    const [data, setData] = useState(null);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);

    
  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        setError(null);
        console.log('üîÑ useApi: Fetching data...');
        const result = await apiFunction();
        setData(result);
        console.log('‚úÖ useApi: Data fetched successfully');
      } catch (err) {
        console.error('‚ùå useApi: Error fetching data', err);
        setError(err.response?.data?.message || err.message || 'Error desconocido');
      } finally {
        setLoading(false);
      }
    };

     fetchData();
  }, dependencies);

  const refetch = async () => {
    try {
      setLoading(true);
      setError(null);
      const result = await apiFunction();
      setData(result);
      return result;
    } catch (err) {
      setError(err.response?.data?.message || err.message || 'Error desconocido');
      throw err;
    } finally {
      setLoading(false);
    }
  };

  return { data, loading, error, refetch };
};

```

## c:\Users\rexma\Desktop\chambing-website\src\hooks\useForm.js
```
import { useState } from 'react';

export const useForm = (initialValues = {}, validationSchema = null) => {
  const [values, setValues] = useState(initialValues);
  const [errors, setErrors] = useState({});
  const [touched, setTouched] = useState({});
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleChange = (name, value) => {
    setValues(prev => ({
      ...prev,
      [name]: value,
    }));

    
    if (errors[name]) {
      setErrors(prev => ({
        ...prev,
        [name]: undefined,
      }));
    }
  };

  const handleBlur = (name) => {
    setTouched(prev => ({
      ...prev,
      [name]: true,
    }));

    
    if (validationSchema) {
      validateField(name, values[name]);
    }
  };

  const validateField = (name, value) => {
    if (!validationSchema) return true;

    try {
      validationSchema.validateSyncAt(name, { [name]: value });
      setErrors(prev => ({
        ...prev,
        [name]: undefined,
      }));
      return true;
    } catch (error) {
      setErrors(prev => ({
        ...prev,
        [name]: error.message,
      }));
      return false;
    }
  };

  const validateForm = () => {
    if (!validationSchema) return true;

    try {
      validationSchema.validateSync(values, { abortEarly: false });
      setErrors({});
      return true;
    } catch (error) {
      const formErrors = {};
      error.inner.forEach(err => {
        formErrors[err.path] = err.message;
      });
      setErrors(formErrors);
      return false;
    }
  };

  const handleSubmit = async (onSubmit) => {
    setIsSubmitting(true);
    
    // Mark all fields as touched
    const touchedFields = {};
    Object.keys(values).forEach(key => {
      touchedFields[key] = true;
    });
    setTouched(touchedFields);

    // Validate form
    if (!validateForm()) {
      setIsSubmitting(false);
      return;
    }

    try {
      await onSubmit(values);
    } catch (error) {
      console.error('Form submission error:', error);
    } finally {
      setIsSubmitting(false);
    }
  };

  const reset = (newValues = initialValues) => {
    setValues(newValues);
    setErrors({});
    setTouched({});
    setIsSubmitting(false);
  };

  return {
    values,
    errors,
    touched,
    isSubmitting,
    handleChange,
    handleBlur,
    handleSubmit,
    reset,
    setValues,
    setErrors,
  };
};

```

## c:\Users\rexma\Desktop\chambing-website\src\hooks\useLocalStorage.js
```
import { useState, useEffect } from "react";

export const useLocalStorage = (key, initialValue) => {
    const [storedValue, setStoredValue] = useState(() => {
        try {
            const item = window.localStorage.getItem(key);
            return item ? JSON.parse(item) : initialValue;
        } catch (error) {
            console.error(`Error reading localStorage key "${key}":`, error);
            return initialValue;
        }
    });
const setValue = (value) => {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      window.localStorage.setItem(key, JSON.stringify(valueToStore));
    } catch (error) {
      console.error(`Error setting localStorage key "${key}":`, error);
    }
  };

  const removeValue = () => {
    try {
      window.localStorage.removeItem(key);
      setStoredValue(initialValue);
    } catch (error) {
      console.error(`Error removing localStorage key "${key}":`, error);
    }
  };

  return [storedValue, setValue, removeValue];

}
```

## c:\Users\rexma\Desktop\chambing-website\src\hooks\useNotification.js
```
import { useApp } from '../context/AppContext';

export const useNotification = () => {
  const { addNotification, removeNotification, notifications } = useApp();

  const showSuccess = (message, options = {}) => {
    addNotification({
      type: 'success',
      message,
      ...options,
    });
  };

  const showError = (message, options = {}) => {
    addNotification({
      type: 'error',
      message,
      ...options,
    });
  };

  const showWarning = (message, options = {}) => {
    addNotification({
      type: 'warning',
      message,
      ...options,
    });
  };

  const showInfo = (message, options = {}) => {
    addNotification({
      type: 'info',
      message,
      ...options,
    });
  };

  return {
    notifications,
    showSuccess,
    showError,
    showWarning,
    showInfo,
    removeNotification,
  };
};
```

## c:\Users\rexma\Desktop\chambing-website\src\pages\Home.jsx
```
import React, { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import {
  Box,
  Container,
  Typography,
  Button,
 Grid, // ‚≠ê USAR Grid2 para la nueva versi√≥n
  Card,
  CardContent,
  CardActions,
  Avatar,
  Chip,
  Paper,
  useTheme,
  useMediaQuery,
  Rating,
} from '@mui/material';
import {
  Home as HomeIcon,
  Build,
  CleaningServices,
  Plumbing,
  ElectricalServices,
  Handyman,
  Star,
  CheckCircle,
  Security,
  Schedule,
  Payment,
} from '@mui/icons-material';
import { useAuth } from '../context/AuthContext';
import { serviceService } from '../services/serviceService';

const Home = () => {
  const { isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));
  const [categories, setCategories] = useState([]);

  useEffect(() => {
    const loadCategories = async () => {
      try {
        console.log('üîÑ Intentando cargar categor√≠as...');
        const data = await serviceService.getCategories();
        setCategories(data.slice(0, 6));
        console.log('‚úÖ Categor√≠as cargadas:', data.length);
      } catch (error) {
        console.error('‚ùå Error loading categories:', error);
        console.log('üìù Usando datos mock por error de conexi√≥n');
        // Datos mock si falla la API
        setCategories([
          { id: 1, nombre: 'Limpieza Dom√©stica', descripcion: 'Servicio profesional de limpieza para tu hogar', icono: 'cleaning' },
          { id: 2, nombre: 'Plomer√≠a', descripcion: 'Reparaciones e instalaciones de plomer√≠a', icono: 'plumbing' },
          { id: 3, nombre: 'Electricidad', descripcion: 'Instalaciones y reparaciones el√©ctricas', icono: 'electrical' },
          { id: 4, nombre: 'Carpinter√≠a', descripcion: 'Trabajos en madera y muebles', icono: 'carpenter' },
          { id: 5, nombre: 'Jardiner√≠a', descripcion: 'Mantenimiento de jardines y √°reas verdes', icono: 'garden' },
          { id: 6, nombre: 'Construcci√≥n', descripcion: 'Trabajos de construcci√≥n y remodelaci√≥n', icono: 'build' },
        ]);
      }
    };

    loadCategories();
  }, []);

  const getServiceIcon = (iconName) => {
    const icons = {
      cleaning: <CleaningServices />,
      plumbing: <Plumbing />,
      electrical: <ElectricalServices />,
      carpenter: <Handyman />,
      garden: <HomeIcon />,
      build: <Build />,
    };
    return icons[iconName] || <Build />;
  };

  const features = [
    {
      icon: <Security color="primary" />,
      title: 'Trabajadores Verificados',
      description: 'Todos nuestros profesionales pasan por un proceso de verificaci√≥n riguroso',
    },
    {
      icon: <Schedule color="primary" />,
      title: 'Disponibilidad 24/7',
      description: 'Encuentra ayuda cuando la necesites, cualquier d√≠a de la semana',
    },
    {
      icon: <Payment color="primary" />,
      title: 'Pagos Seguros',
      description: 'Sistema de pagos protegido con m√∫ltiples opciones de pago',
    },
  ];

  const testimonials = [
    {
      name: 'Mar√≠a Gonz√°lez',
      rating: 5,
      comment: 'Excelente servicio, muy profesionales y puntuales.',
      service: 'Limpieza Dom√©stica',
    },
    {
      name: 'Carlos Mart√≠nez',
      rating: 5,
      comment: 'Resolvieron mi problema de plomer√≠a r√°pidamente.',
      service: 'Plomer√≠a',
    },
    {
      name: 'Ana Rodr√≠guez',
      rating: 4,
      comment: 'Muy contentos con el trabajo de jardiner√≠a realizado.',
      service: 'Jardiner√≠a',
    },
  ];

  return (
    <Box>
      {/* Hero Section */}
      <Paper
        sx={{
          backgroundImage: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
          color: 'white',
          py: { xs: 6, md: 10 },
          textAlign: 'center',
        }}
      >
        <Container maxWidth="lg">
          <Typography
            variant={isMobile ? 'h3' : 'h2'}
            component="h1"
            gutterBottom
            fontWeight="bold"
          >
            Conectamos talento con oportunidades
          </Typography>
          <Typography
            variant={isMobile ? 'h6' : 'h5'}
            sx={{ mb: 4, opacity: 0.9 }}
          >
            Encuentra profesionales calificados para tu hogar o √∫nete como trabajador independiente
          </Typography>
          <Box sx={{ display: 'flex', gap: 2, justifyContent: 'center', flexWrap: 'wrap' }}>
            {isAuthenticated ? (
              <Button
                variant="contained"
                size="large"
                onClick={() => navigate('/dashboard')}
                sx={{
                  bgcolor: 'white',
                  color: 'primary.main',
                  '&:hover': { bgcolor: 'grey.100' },
                }}
              >
                Ir a Dashboard
              </Button>
            ) : (
              <>
                <Button
                  variant="contained"
                  size="large"
                  onClick={() => navigate('/register')}
                  sx={{
                    bgcolor: 'white',
                    color: 'primary.main',
                    '&:hover': { bgcolor: 'grey.100' },
                  }}
                >
                  Comenzar Ahora
                </Button>
                <Button
                  variant="outlined"
                  size="large"
                  onClick={() => navigate('/login')}
                  sx={{
                    borderColor: 'white',
                    color: 'white',
                    '&:hover': { borderColor: 'white', bgcolor: 'rgba(255,255,255,0.1)' },
                  }}
                >
                  Iniciar Sesi√≥n
                </Button>
              </>
            )}
          </Box>
        </Container>
      </Paper>

      {/* Services Section */}
      <Container maxWidth="lg" sx={{ py: 8 }}>
        <Typography variant="h3" textAlign="center" gutterBottom>
          Nuestros Servicios
        </Typography>
        <Typography
          variant="h6"
          textAlign="center"
          color="text.secondary"
          sx={{ mb: 6 }}
        >
          Encuentra el profesional perfecto para cada tarea
        </Typography>
        
        {/* ‚≠ê GRID V2 SINTAXIS - SIN PROPS item, xs, sm, md */}
        <Grid container spacing={4}>
          {categories.map((category) => (
            <Grid key={category.id} size={{ xs: 12, sm: 6, md: 4 }}>
              <Card
                sx={{
                  height: '100%',
                  transition: 'transform 0.2s',
                  '&:hover': { transform: 'translateY(-4px)' },
                }}
              >
                <CardContent sx={{ textAlign: 'center', pt: 3 }}>
                  <Avatar
                    sx={{
                      bgcolor: 'primary.main',
                      width: 64,
                      height: 64,
                      mx: 'auto',
                      mb: 2,
                    }}
                  >
                    {getServiceIcon(category.icono)}
                  </Avatar>
                  <Typography variant="h6" gutterBottom>
                    {category.nombre}
                  </Typography>
                  <Typography variant="body2" color="text.secondary">
                    {category.descripcion}
                  </Typography>
                </CardContent>
                <CardActions sx={{ justifyContent: 'center', pb: 3 }}>
                  <Button size="small" variant="outlined">
                    Ver Profesionales
                  </Button>
                </CardActions>
              </Card>
            </Grid>
          ))}
        </Grid>
      </Container>

      {/* Features Section */}
      <Box sx={{ bgcolor: 'grey.50', py: 8 }}>
        <Container maxWidth="lg">
          <Typography variant="h3" textAlign="center" gutterBottom>
            ¬øPor qu√© elegirnos?
          </Typography>
          <Grid container spacing={4} sx={{ mt: 4 }}>
            {features.map((feature, index) => (
              <Grid key={index} size={{ xs: 12, md: 4 }}>
                <Box textAlign="center">
                  <Avatar
                    sx={{
                      bgcolor: 'primary.light',
                      width: 80,
                      height: 80,
                      mx: 'auto',
                      mb: 2,
                    }}
                  >
                    {feature.icon}
                  </Avatar>
                  <Typography variant="h5" gutterBottom>
                    {feature.title}
                  </Typography>
                  <Typography variant="body1" color="text.secondary">
                    {feature.description}
                  </Typography>
                </Box>
              </Grid>
            ))}
          </Grid>
        </Container>
      </Box>

      {/* Testimonials Section */}
      <Container maxWidth="lg" sx={{ py: 8 }}>
        <Typography variant="h3" textAlign="center" gutterBottom>
          Lo que dicen nuestros usuarios
        </Typography>
        <Grid container spacing={4} sx={{ mt: 4 }}>
          {testimonials.map((testimonial, index) => (
            <Grid key={index} size={{ xs: 12, md: 4 }}>
              <Card sx={{ height: '100%' }}>
                <CardContent>
                  <Box display="flex" alignItems="center" mb={2}>
                    <Avatar sx={{ mr: 2 }}>
                      {testimonial.name.charAt(0)}
                    </Avatar>
                    <Box>
                      <Typography variant="h6">{testimonial.name}</Typography>
                      <Chip label={testimonial.service} size="small" />
                    </Box>
                  </Box>
                  <Rating value={testimonial.rating} readOnly sx={{ mb: 2 }} />
                  <Typography variant="body2">"{testimonial.comment}"</Typography>
                </CardContent>
              </Card>
            </Grid>
          ))}
        </Grid>
      </Container>

      {/* CTA Section */}
      <Paper
        sx={{
          bgcolor: 'primary.main',
          color: 'white',
          py: 8,
          textAlign: 'center',
        }}
      >
        <Container maxWidth="md">
          <Typography variant="h3" gutterBottom>
            ¬øListo para comenzar?
          </Typography>
          <Typography variant="h6" sx={{ mb: 4, opacity: 0.9 }}>
            √önete a miles de usuarios satisfechos en El Salvador
          </Typography>
          {!isAuthenticated && (
            <Button
              variant="contained"
              size="large"
              onClick={() => navigate('/register')}
              sx={{
                bgcolor: 'white',
                color: 'primary.main',
                '&:hover': { bgcolor: 'grey.100' },
              }}
            >
              Crear Cuenta Gratis
            </Button>
          )}
        </Container>
      </Paper>

      {/* Debug Info */}
      <Box sx={{ bgcolor: 'info.light', p: 2, mt: 4 }}>
        <Container maxWidth="lg">
          <Typography variant="subtitle2" gutterBottom>
            üîß Info de Debug:
          </Typography>
          <Typography variant="caption" component="div">
            ‚Ä¢ API URL configurada: {import.meta.env.VITE_API_URL || 'http://localhost:3000/api'}<br/>
            ‚Ä¢ Categor√≠as cargadas: {categories.length}<br/>
            ‚Ä¢ Backend esperado en: {import.meta.env.VITE_API_URL || 'http://localhost:3000/api'}
          </Typography>
        </Container>
      </Box>
    </Box>
  );
};

export default Home;
```

## c:\Users\rexma\Desktop\chambing-website\src\services\api.js
```
import axios from 'axios';

const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:3001/api';

const api = axios.create({
  baseURL: API_BASE_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Variable para evitar m√∫ltiples redirects
let isRedirecting = false;

api.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
      console.log('üîß API: Token agregado a la petici√≥n');
    } else {
      console.log('üîß API: No hay token disponible');
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

api.interceptors.response.use(
  (response) => {
    console.log('‚úÖ API: Respuesta exitosa', response.status);
    return response;
  },
  async (error) => {
    console.log('‚ùå API: Error en respuesta', error.response?.status, error.response?.data);
    
    if (error.response?.status === 401) {
      console.log('üîç API: Detectado error 401 - token inv√°lido o expirado');
      
      // Evitar m√∫ltiples redirects simult√°neos
      if (isRedirecting) {
        return Promise.reject(error);
      }
      
      // Intentar refrescar el token antes de hacer logout
      const refreshToken = localStorage.getItem('refresh_token');
      
      if (refreshToken && !error.config._retry) {
        console.log('üîÑ API: Intentando refrescar token...');
        error.config._retry = true;
        
        try {
          // Usar una instancia separada para evitar interceptor recursivo
          const refreshResponse = await axios.post(`${API_BASE_URL}/auth/refresh`, {
            refreshToken: refreshToken  // ‚úÖ Backend espera 'refreshToken'
          });
          
          const newToken = refreshResponse.data.accessToken;  // ‚úÖ Backend retorna 'accessToken'
          localStorage.setItem('token', newToken);
          
          // Reintentar la petici√≥n original con el nuevo token
          error.config.headers.Authorization = `Bearer ${newToken}`;
          console.log('‚úÖ API: Token refrescado, reintentando petici√≥n...');
          return api.request(error.config);
          
        } catch (refreshError) {
          console.log('‚ùå API: Error al refrescar token, haciendo logout...');
          // Si el refresh falla, entonces s√≠ hacer logout
          handleLogout();
        }
      } else {
        console.log('‚ùå API: No hay refresh token o ya se intent√≥, haciendo logout...');
        handleLogout();
      }
    }
    
    return Promise.reject(error);
  }
);

// Funci√≥n separada para manejar logout
function handleLogout() {
  if (isRedirecting) return;
  
  isRedirecting = true;
  console.log('üö™ API: Ejecutando logout autom√°tico...');
  
  // Limpiar localStorage
  localStorage.removeItem('token');
  localStorage.removeItem('refresh_token');
  localStorage.removeItem('user');
  
  // Redirigir despu√©s de un peque√±o delay para evitar problemas de race condition
  setTimeout(() => {
    window.location.href = '/login';
    isRedirecting = false;
  }, 100);
}

export default api;
```

## c:\Users\rexma\Desktop\chambing-website\src\services\authService.js
```
import api from './api';

export const authService = {
  async login(credentials) {
    try {
      console.log('üîß authService: Enviando petici√≥n login...', credentials);
      const response = await api.post('/auth/login', credentials);
      console.log('üîß authService: Respuesta recibida:', response.data);
      
      // ‚úÖ Usar los nombres correctos que retorna el backend
      const { accessToken, refreshToken, user } = response.data;

      // Guardar tokens y usuario en localStorage
      localStorage.setItem('token', accessToken);           // ‚úÖ accessToken del backend
      localStorage.setItem('refresh_token', refreshToken);  // ‚úÖ refreshToken del backend
      
      // Guardar usuario solo si existe en la respuesta
      if (user) {
        localStorage.setItem('user', JSON.stringify(user));
      }

     
      return {
        access_token: accessToken,  
        refresh_token: refreshToken,
        user: user
      };
    } catch (error) {
      console.error('‚ùå authService: Error en login:', error.response?.data || error);
      throw error;
    }
  },

  async register(userData) {
    try {
      console.log('üîß authService: Enviando petici√≥n registro...', userData);
      const response = await api.post('/auth/register', userData);
      console.log('üîß authService: Respuesta registro:', response.data);
      return response.data;
    } catch (error) {
      console.error('‚ùå authService: Error en registro:', error.response?.data || error);
      throw error;
    }
  },

  async logout() {
    try {
      console.log('üîß authService: Enviando petici√≥n logout...');
      await api.post('/auth/logout');
    } catch (error) {
      console.error('‚ùå authService: Error en logout:', error.response?.data || error);
    }
    
    // Limpiar localStorage siempre
    localStorage.removeItem('token');
    localStorage.removeItem('refresh_token');
    localStorage.removeItem('user');
    window.location.href = '/login';
  },

  async refresh_token() {
    try {
      const refresh_token = localStorage.getItem('refresh_token');
      console.log('üîß authService: Refrescando token...');
      
      if (!refresh_token) {
        throw new Error('No hay refresh token disponible');
      }

      const response = await api.post('/auth/refresh', { 
        refreshToken: refresh_token  
      });
      
      const { accessToken } = response.data;  
      
      localStorage.setItem('token', accessToken);
      console.log('‚úÖ authService: Token refrescado exitosamente');
      return accessToken;
    } catch (error) {
      console.error('‚ùå authService: Error refrescando token:', error);
      this.logout();
      throw error;
    }
  },

  getCurrentUser() {
    const user = localStorage.getItem('user');
    return user ? JSON.parse(user) : null;
  },

  isAuthenticated() {
    return !!localStorage.getItem('token');
  },
};
```

## c:\Users\rexma\Desktop\chambing-website\src\services\contractService.js
```
import api from './api';

export const contractService = {
  // ‚úÖ Corregir: usar la ruta que S√ç existe en el backend
  async getMyContracts() {
    try {
      console.log('üîß contractService: Obteniendo contratos del usuario...');
      
      // ‚úÖ Usar /contracts en lugar de /contracts/my-contracts
      const response = await api.get('/contracts');
      console.log('üîß contractService: Contratos recibidos:', response.data);
      
      return response.data;
    } catch (error) {
      console.error('‚ùå contractService: Error obteniendo contratos:', error);
      
      // Si es un error 404 o 401, retornar array vac√≠o en lugar de fallar
      if (error.response?.status === 404 || error.response?.status === 401) {
        console.log('üìù contractService: Retornando array vac√≠o por error de autorizaci√≥n');
        return [];
      }
      
      throw error;
    }
  },

  async getContractById(id) {
    try {
      console.log('üîß contractService: Obteniendo contrato por ID:', id);
      const response = await api.get(`/contracts/${id}`);
      return response.data;
    } catch (error) {
      console.error('‚ùå contractService: Error obteniendo contrato:', error);
      throw error;
    }
  },

  async createContract(contractData) {
    try {
      console.log('üîß contractService: Creando contrato:', contractData);
      const response = await api.post('/contracts', contractData);
      return response.data;
    } catch (error) {
      console.error('‚ùå contractService: Error creando contrato:', error);
      throw error;
    }
  },

  async updateContractStatus(id, newStatus, userId, notes) {
    try {
      console.log('üîß contractService: Actualizando estado del contrato:', id, newStatus);
      const response = await api.post(`/contracts/${id}/estado`, {
        nuevoEstado: newStatus,
        usuarioId: userId,
        notas: notes
      });
      return response.data;
    } catch (error) {
      console.error('‚ùå contractService: Error actualizando estado:', error);
      throw error;
    }
  },

  async getContractHistory(id) {
    try {
      console.log('üîß contractService: Obteniendo historial del contrato:', id);
      const response = await api.get(`/contracts/${id}/historial`);
      return response.data;
    } catch (error) {
      console.error('‚ùå contractService: Error obteniendo historial:', error);
      throw error;
    }
  },

  // ‚úÖ M√©todo adicional para filtrar contratos por usuario (si necesitas)
  async getContractsByUser(userId, role = 'empleador') {
    try {
      console.log('üîß contractService: Obteniendo contratos por usuario:', userId, role);
      
      const queryParam = role === 'empleador' ? 'empleadorId' : 'trabajadorId';
      const response = await api.get(`/contracts?${queryParam}=${userId}`);
      
      return response.data;
    } catch (error) {
      console.error('‚ùå contractService: Error obteniendo contratos por usuario:', error);
      throw error;
    }
  }
};
```

## c:\Users\rexma\Desktop\chambing-website\src\services\paymentsService.js
```
import api from './api';

export const paymentsService = {
    async createPayment(data) {
        const response = await api.post('/payments', data);
        return response.data;
    },
    async getPaymentHistory(params = {}) {
        const response = await api.get('/payments/history', { params });
        return response.data;
    },

    async getWorkerBalance() {
        const response = await api.get('/payments/balance');
        return response.data;
    },

    async processWompiPayment(data) {
        const response = await api.post('/payments/wompi/process', data);
        return response.data;
    },
    async getPaymentById(id) {
        const response = await api.get(`/payments/${id}`);
        return response.data;
    },

    async confirmPayment(id) {
        const response = await api.post(`/payments/${id}/confirm`);
        return response.data;
    },
};
```

## c:\Users\rexma\Desktop\chambing-website\src\services\serviceService.js
```
import api from './api';

export const serviceService = {
  // ‚úÖ Usar /services/categorias (como est√° en tu backend)
  async getCategories() {
    try {
      console.log('üîß serviceService: Obteniendo categor√≠as...');
      
      // ‚úÖ Tu backend tiene /services/categorias (no /categories)
      const response = await api.get('/services/categorias');
      console.log('üîß serviceService: Categor√≠as recibidas:', response.data);
      
      return response.data;
    } catch (error) {
      console.error('‚ùå serviceService: Error obteniendo categor√≠as:', error);
      
      // Si falla, retornar array vac√≠o para no romper la UI
      if (error.response?.status === 404 || error.response?.status === 500) {
        console.log('üìù serviceService: Retornando array vac√≠o por error');
        return [];
      }
      
      throw error;
    }
  },

  async getCategoryById(id) {
    try {
      console.log('üîß serviceService: Obteniendo categor√≠a por ID:', id);
      const response = await api.get(`/services/categorias/${id}`);
      return response.data;
    } catch (error) {
      console.error('‚ùå serviceService: Error obteniendo categor√≠a:', error);
      throw error;
    }
  },

  async getWorkersByCategory(categoryId) {
    try {
      console.log('üîß serviceService: Obteniendo trabajadores por categor√≠a:', categoryId);
      const response = await api.get(`/services/categorias/${categoryId}/trabajadores`);
      return response.data;
    } catch (error) {
      console.error('‚ùå serviceService: Error obteniendo trabajadores:', error);
      throw error;
    }
  },

  async createCategory(categoryData) {
    try {
      console.log('üîß serviceService: Creando categor√≠a:', categoryData);
      const response = await api.post('/services/categorias', categoryData);
      return response.data;
    } catch (error) {
      console.error('‚ùå serviceService: Error creando categor√≠a:', error);
      throw error;
    }
  },

  async updateCategory(id, categoryData) {
    try {
      console.log('üîß serviceService: Actualizando categor√≠a:', id, categoryData);
      const response = await api.patch(`/services/categorias/${id}`, categoryData);
      return response.data;
    } catch (error) {
      console.error('‚ùå serviceService: Error actualizando categor√≠a:', error);
      throw error;
    }
  },

  async createTarifa(tarifaData) {
    try {
      console.log('üîß serviceService: Creando tarifa:', tarifaData);
      const response = await api.post('/services/tarifas', tarifaData);
      return response.data;
    } catch (error) {
      console.error('‚ùå serviceService: Error creando tarifa:', error);
      throw error;
    }
  },

  async assignWorkerToCategory(assignmentData) {
    try {
      console.log('üîß serviceService: Asignando trabajador a categor√≠a:', assignmentData);
      const response = await api.post('/services/trabajadores/asignar', assignmentData);
      return response.data;
    } catch (error) {
      console.error('‚ùå serviceService: Error asignando trabajador:', error);
      throw error;
    }
  },

  // ‚úÖ M√©todo de prueba para verificar conexi√≥n
  async testConnection() {
    try {
      console.log('üîß serviceService: Probando conexi√≥n...');
      const response = await api.get('/services/test');
      return response.data;
    } catch (error) {
      console.error('‚ùå serviceService: Error en prueba de conexi√≥n:', error);
      throw error;
    }
  }
};
```

## c:\Users\rexma\Desktop\chambing-website\src\services\userService.js
```
import { get } from 'react-hook-form';
import api from './api';

export const userService = {
    async getProfile(){
        const response = await api.get('/user/profile');
        return response.data;
    },

    async updateProfile(userData){
        const response = await api.put('/user/profile', userData);
        return response.data;
    },

    async uploadProfilePhoto(file){
        const formData = new FormData();
        formData.append('photo', file);

        const respontse = await api.post('/user/profile/photo', formData, {
            headers: {
                'Content-Type': 'multipart/form-data'
            }
        });

        return respontse.data;
    },
    async getUsers(params = {}) {
        const response = await api.get('/user', { params });
        return response.data;
    },
    async getUserById(userId) {
        const response = await api.get(`/user/${id}`);
        return response.data;
    },
};
```

## c:\Users\rexma\Desktop\chambing-website\src\styles\globals.scss
```
@use 'variables' as *;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Roboto', $font-family-base;
  font-size: $font-size-base;
  line-height: 1.6;
  color: $dark-color;
  background-color: $light-color;
}

// Estilos personalizados para complementar MUI
.custom-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 $spacing-md;
  
  @media (min-width: $tablet) {
    padding: 0 $spacing-lg;
  }
}

// Utilidades adicionales que complementan MUI
.full-height {
  height: 100vh;
}

.center-content {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

// Estilos para formularios personalizados
.form-container {
  max-width: 400px;
  margin: 0 auto;
  padding: $spacing-xl;
  
  @media (max-width: $mobile) {
    padding: $spacing-md;
  }
}
```

## c:\Users\rexma\Desktop\chambing-website\src\App.jsx
```
import React from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { ThemeProvider } from '@mui/material/styles';
import { CssBaseline, Box } from '@mui/material';
import { AuthProvider } from './context/AuthContext';
import { theme } from './theme/muiTheme';
import Navbar from './components/common/Navbar';
import Footer from './components/common/Footer';
import ProtectedRoute from './components/auth/ProtectedRoute';
import Home from './pages/Home';
import LoginForm from './components/auth/LoginForm';
import RegisterForm from './components/auth/RegisterForm';
import Dashboard from './pages/Dashboard';
import './styles/globals.scss';

function App() {
  return (
    <ThemeProvider theme={theme}>
      <CssBaseline />
      <AuthProvider>
        <Router>
          <Box sx={{ 
            display: 'flex', 
            flexDirection: 'column', 
            minHeight: '100vh' 
          }}>
            <Navbar />
            
            <Box component="main" sx={{ flexGrow: 1 }}>
              <Routes>
                {/* Rutas p√∫blicas */}
                <Route path="/" element={<Home />} />
                <Route path="/login" element={<LoginForm />} />
                <Route path="/register" element={<RegisterForm />} />
                
                {/* Rutas protegidas */}
                <Route
                  path="/dashboard"
                  element={
                    <ProtectedRoute>
                      <Dashboard />
                    </ProtectedRoute>
                  }
                />
                
                {/* P√°ginas temporales */}
                <Route
                  path="/perfil"
                  element={
                    <ProtectedRoute>
                      <div style={{ padding: '2rem', textAlign: 'center' }}>
                        <h2>Mi Perfil</h2>
                        <p>P√°gina en construcci√≥n...</p>
                      </div>
                    </ProtectedRoute>
                  }
                />
                
                <Route
                  path="/servicios"
                  element={
                    <div style={{ padding: '2rem', textAlign: 'center' }}>
                      <h2>Servicios</h2>
                      <p>P√°gina en construcci√≥n...</p>
                    </div>
                  }
                />
                
                {/* P√°gina no encontrada */}
                <Route 
                  path="*" 
                  element={
                    <div style={{ padding: '2rem', textAlign: 'center' }}>
                      <h2>P√°gina no encontrada</h2>
                      <p>La p√°gina que buscas no existe.</p>
                    </div>
                  } 
                />
              </Routes>
            </Box>
            
            <Footer />
          </Box>
        </Router>
      </AuthProvider>
    </ThemeProvider>
  );
}

export default App;
```

## c:\Users\rexma\Desktop\chambing-website\src\main.jsx
```
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'
import './styles/globals.scss'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
```

