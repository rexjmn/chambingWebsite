Enter your prompt here

# Project Files

- c:\Users\rexma\Desktop\chambing-website\vite.config.js
- c:\Users\rexma\Desktop\chambing-website\src\styles\variables.scss
- c:\Users\rexma\Desktop\chambing-website\src\styles\globals.scss
- c:\Users\rexma\Desktop\chambing-website\src\services\api.js
- c:\Users\rexma\Desktop\chambing-website\.env
- c:\Users\rexma\Desktop\chambing-website\src\services\authService.js
- c:\Users\rexma\Desktop\chambing-website\src\services\userService.js
- c:\Users\rexma\Desktop\chambing-website\src\services\serviceService.js
- c:\Users\rexma\Desktop\chambing-website\src\services\contractService.js
- c:\Users\rexma\Desktop\chambing-website\src\services\paymentsService.js
- c:\Users\rexma\Desktop\chambing-website\src\main.jsx
- c:\Users\rexma\Desktop\chambing-website\package.json
- c:\Users\rexma\Desktop\chambing-website\src\App.jsx
- c:\Users\rexma\Desktop\chambing-website\src\context\AuthContext.jsx
- c:\Users\rexma\Desktop\chambing-website\src\context\AppContext.jsx
- c:\Users\rexma\Desktop\chambing-website\src\hooks\useApi.js
- c:\Users\rexma\Desktop\chambing-website\src\hooks\useLocalStorage.js
- c:\Users\rexma\Desktop\chambing-website\src\hooks\useNotification.js
- c:\Users\rexma\Desktop\chambing-website\src\hooks\useForm.js
- c:\Users\rexma\Desktop\chambing-website\src\utils\constants.js
- c:\Users\rexma\Desktop\chambing-website\src\utils\helpers.js
- c:\Users\rexma\Desktop\chambing-website\src\index.css
- c:\Users\rexma\Desktop\chambing-website\src\pages\Home.jsx
- c:\Users\rexma\Desktop\chambing-website\src\components\common\footer.jsx
- c:\Users\rexma\Desktop\chambing-website\src\components\common\navbar.jsx
- c:\Users\rexma\Desktop\chambing-website\src\components\auth\RegisterForm.jsx
- c:\Users\rexma\Desktop\chambing-website\src\theme\muiTheme.js
- c:\Users\rexma\Desktop\chambing-website\src\components\auth\LoginForm.jsx

## c:\Users\rexma\Desktop\chambing-website\vite.config.js
```
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:3001',
        changeOrigin: true,
        secure: false
      }
    }
  },
  css: {
    preprocessorOptions: {
      scss: {
      }
    }
  }
})
```

## c:\Users\rexma\Desktop\chambing-website\src\styles\variables.scss
```
// Colores principales
$primary-color: #2563eb;
$secondary-color: #64748b;
$success-color: #10b981;
$warning-color: #f59e0b;
$danger-color: #ef4444;
$light-color: #f8fafc;
$dark-color: #1e293b;

// TipografÃ­a
$font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
$font-size-base: 1rem;
$font-weight-normal: 400;
$font-weight-medium: 500;
$font-weight-bold: 700;

// Espaciado
$spacing-xs: 0.25rem;
$spacing-sm: 0.5rem;
$spacing-md: 1rem;
$spacing-lg: 1.5rem;
$spacing-xl: 2rem;
$spacing-2xl: 3rem;

// Breakpoints
$mobile: 768px;
$tablet: 1024px;
$desktop: 1280px;

// Bordes
$border-radius-sm: 0.25rem;
$border-radius-md: 0.5rem;
$border-radius-lg: 0.75rem;
$border-radius-xl: 1rem;

// Sombras
$shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
$shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
$shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
```

## c:\Users\rexma\Desktop\chambing-website\src\styles\globals.scss
```
@use 'variables' as *;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Roboto', $font-family-base;
  font-size: $font-size-base;
  line-height: 1.6;
  color: $dark-color;
  background-color: $light-color;
}

// Estilos personalizados para complementar MUI
.custom-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 $spacing-md;
  
  @media (min-width: $tablet) {
    padding: 0 $spacing-lg;
  }
}

// Utilidades adicionales que complementan MUI
.full-height {
  height: 100vh;
}

.center-content {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

// Estilos para formularios personalizados
.form-container {
  max-width: 400px;
  margin: 0 auto;
  padding: $spacing-xl;
  
  @media (max-width: $mobile) {
    padding: $spacing-md;
  }
}
```

## c:\Users\rexma\Desktop\chambing-website\src\services\api.js
```
import axios from 'axios';

const API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:3001';

const api = axios.create({
  baseURL: API_BASE_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

api.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => {
    return Promise.reject(error);
  }
);

api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      localStorage.removeItem('token');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export default api;
```

## c:\Users\rexma\Desktop\chambing-website\.env
```
VITE_API_URL=http://localhost:3001
VITE_APP_NAME=FreelanceApp
```

## c:\Users\rexma\Desktop\chambing-website\src\services\authService.js
```
import api from './api';

export const authService = {
  async login(credentials) {
    try {
        const response = await api.post('/auth/login', credentials);
        const { access_token, refresh_token } = response.data;

        localStorage.setItem('token', access_token);
        localStorage.setItem('refresh_token', refresh_token);
        localStorage.setItem('user', JSON.stringify(user));

        return response.data;
    } catch (error) {
        console.error.response?.data || error;
    }
  },

   async register(userData) {
    try {
      const response = await api.post('/auth/register', userData);
      return response.data;
    } catch (error) {
      console.error(error.response?.data || error);
      throw error;
    }
  },

  async logout(){
    try{
        await api.post('/auth/logout');

    }catch (error) {
        console.error(error.response?.data || error);
    }
    localStorage.removeItem('token');
    localStorage.removeItem('refresh_token');
    localStorage.removeItem('user');
    window.location.href = '/login';
  },

  async refresh_token(){
    try {
        const refresh_token = localStorage.getItem('refresh_token');
        const response = await api.post('/auth/refresh', { refresh_token });
        const { access_token } = response.data;
        localStorage.setItem('token', access_token);
        return access_token;
    } catch (error) {
        this.logout();
        throw error;
    }
  },

  async getUser(){
    const user = localStorage.getItem('user');
    return user ? JSON.parse(user) : null;
  },

  isAuthenticated(){
    return !!localStorage.getItem('token');
  },

};
```

## c:\Users\rexma\Desktop\chambing-website\src\services\userService.js
```
import { get } from 'react-hook-form';
import api from './api';

export const userService = {
    async getProfile(){
        const response = await api.get('/user/profile');
        return response.data;
    },

    async updateProfile(userData){
        const response = await api.put('/user/profile', userData);
        return response.data;
    },

    async uploadProfilePhoto(file){
        const formData = new FormData();
        formData.append('photo', file);

        const respontse = await api.post('/user/profile/photo', formData, {
            headers: {
                'Content-Type': 'multipart/form-data'
            }
        });

        return respontse.data;
    },
    async getUsers(params = {}) {
        const response = await api.get('/user', { params });
        return response.data;
    },
    async getUserById(userId) {
        const response = await api.get(`/user/${id}`);
        return response.data;
    },
};
```

## c:\Users\rexma\Desktop\chambing-website\src\services\serviceService.js
```
import api from './api';

export const serviceService = {
 
  async getCategories() {
    const response = await api.get('/services/categories');
    return response.data;
  },

  
  async getServicesByCategory(categoryId, params = {}) {
    const response = await api.get(`/services/categories/${categoryId}/services`, { params });
    return response.data;
  },

 
  async getWorkerCategories(workerId) {
    const response = await api.get(`/services/workers/${workerId}/categories`);
    return response.data;
  },

 
  async createWorkerCategory(data) {
    const response = await api.post('/services/worker-categories', data);
    return response.data;
  },

  
  async getTariffsByCategory(categoryId) {
    const response = await api.get(`/services/categories/${categoryId}/tariffs`);
    return response.data;
  },

 
  async createCategory(data) {
    const response = await api.post('/services/categories', data);
    return response.data;
  },

  
  async updateCategory(id, data) {
    const response = await api.put(`/services/categories/${id}`, data);
    return response.data;
  },

  
  async deleteCategory(id) {
    const response = await api.delete(`/services/categories/${id}`);
    return response.data;
  }
};
```

## c:\Users\rexma\Desktop\chambing-website\src\services\contractService.js
```
import api from './api';

export const contractService = {
  
  async getMyContracts(params = {}) {
    const response = await api.get('/contracts/my-contracts', { params });
    return response.data;
  },

 
  async createContract(data) {
    const response = await api.post('/contracts', data);
    return response.data;
  },

  
  async getContractById(id) {
    const response = await api.get(`/contracts/${id}`);
    return response.data;
  },

  
  async updateContractStatus(id, status) {
    const response = await api.patch(`/contracts/${id}/status`, { status });
    return response.data;
  },

  
  async getContractStates() {
    const response = await api.get('/contracts/states');
    return response.data;
  },

  
  async acceptContract(id) {
    const response = await api.patch(`/contracts/${id}/accept`);
    return response.data;
  },

  
  async completeContract(id) {
    const response = await api.patch(`/contracts/${id}/complete`);
    return response.data;
  }
};
```

## c:\Users\rexma\Desktop\chambing-website\src\services\paymentsService.js
```
import api from './api';

export const paymentsService = {
    async createPayment(data) {
        const response = await api.post('/payments', data);
        return response.data;
    },
    async getPaymentHistory(params = {}) {
        const response = await api.get('/payments/history', { params });
        return response.data;
    },

    async getWorkerBalance() {
        const response = await api.get('/payments/balance');
        return response.data;
    },

    async processWompiPayment(data) {
        const response = await api.post('/payments/wompi/process', data);
        return response.data;
    },
    async getPaymentById(id) {
        const response = await api.get(`/payments/${id}`);
        return response.data;
    },

    async confirmPayment(id) {
        const response = await api.post(`/payments/${id}/confirm`);
        return response.data;
    },
};
```

## c:\Users\rexma\Desktop\chambing-website\src\main.jsx
```
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App.jsx'
import './styles/globals.scss'

ReactDOM.createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>,
)
```

## c:\Users\rexma\Desktop\chambing-website\package.json
```
{
  "name": "chambing-website",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "lint": "eslint . --ext js,jsx --report-unused-disable-directives --max-warnings 0",
    "preview": "vite preview"
  },
  "dependencies": {
    "@emotion/react": "^11.14.0",
    "@emotion/styled": "^11.14.0",
    "@hookform/resolvers": "^5.1.1",
    "@mui/icons-material": "^7.1.2",
    "@mui/material": "^7.1.2",
    "@mui/x-date-pickers": "^8.5.3",
    "axios": "^1.10.0",
    "i18next": "^25.2.1",
    "i18next-browser-languagedetector": "^8.2.0",
    "lucide-react": "^0.522.0",
    "react": "^19.1.0",
    "react-dom": "^19.1.0",
    "react-hook-form": "^7.58.1",
    "react-i18next": "^15.5.3",
    "react-router-dom": "^7.6.2",
    "yup": "^1.6.1"
  },
  "devDependencies": {
    "@eslint/js": "^9.25.0",
    "@types/react": "^19.1.2",
    "@types/react-dom": "^19.1.2",
    "@vitejs/plugin-react": "^4.4.1",
    "eslint": "^9.25.0",
    "eslint-plugin-react-hooks": "^5.2.0",
    "eslint-plugin-react-refresh": "^0.4.19",
    "globals": "^16.0.0",
    "sass": "^1.89.2",
    "vite": "^6.3.5"
  }
}

```

## c:\Users\rexma\Desktop\chambing-website\src\App.jsx
```
import React from 'react';
import { BrowserRouter as Router, Routes, Route } from 'react-router-dom';
import { ThemeProvider } from '@mui/material/styles';
import { CssBaseline, Box } from '@mui/material';
import { AuthProvider } from './context/AuthContext';
import { theme } from './theme/muiTheme';
import Navbar from './components/common/Navbar';
import Footer from './components/common/Footer';
import ProtectedRoute from './components/auth/ProtectedRoute';
import Home from './pages/Home';
import LoginForm from './components/auth/LoginForm';
import RegisterForm from './components/auth/RegisterForm';
import Dashboard from './pages/Dashboard';
import './styles/globals.scss';

function App() {
  return (
    <ThemeProvider theme={theme}>
      <CssBaseline />
      <AuthProvider>
        <Router>
          <Box sx={{ 
            display: 'flex', 
            flexDirection: 'column', 
            minHeight: '100vh' 
          }}>
            <Navbar />
            
            <Box component="main" sx={{ flexGrow: 1 }}>
              <Routes>
                {/* Rutas pÃºblicas */}
                <Route path="/" element={<Home />} />
                <Route path="/login" element={<LoginForm />} />
                <Route path="/register" element={<RegisterForm />} />
                
                {/* Rutas protegidas */}
                <Route
                  path="/dashboard"
                  element={
                    <ProtectedRoute>
                      <Dashboard />
                    </ProtectedRoute>
                  }
                />
                
                {/* PÃ¡ginas temporales */}
                <Route
                  path="/perfil"
                  element={
                    <ProtectedRoute>
                      <div style={{ padding: '2rem', textAlign: 'center' }}>
                        <h2>Mi Perfil</h2>
                        <p>PÃ¡gina en construcciÃ³n...</p>
                      </div>
                    </ProtectedRoute>
                  }
                />
                
                <Route
                  path="/servicios"
                  element={
                    <div style={{ padding: '2rem', textAlign: 'center' }}>
                      <h2>Servicios</h2>
                      <p>PÃ¡gina en construcciÃ³n...</p>
                    </div>
                  }
                />
                
                {/* PÃ¡gina no encontrada */}
                <Route 
                  path="*" 
                  element={
                    <div style={{ padding: '2rem', textAlign: 'center' }}>
                      <h2>PÃ¡gina no encontrada</h2>
                      <p>La pÃ¡gina que buscas no existe.</p>
                    </div>
                  } 
                />
              </Routes>
            </Box>
            
            <Footer />
          </Box>
        </Router>
      </AuthProvider>
    </ThemeProvider>
  );
}

export default App;
```

## c:\Users\rexma\Desktop\chambing-website\src\context\AuthContext.jsx
```
import React, { createContext, useContext, useState, useReducer, useEffect } from 'react';
import { authService } from '../services/authService'; 

const AuthContext = createContext();

const authReducer = (state, action) => {
  switch (action.type) {
    case 'LOGIN_START':
      return { ...state, loading: true, error: null };
    case 'LOGIN_SUCCESS':
      return {
        ...state,
        loading: false,
        user: action.payload.user,
        token: action.payload.access_token,
        isAuthenticated: true,
        error: null,
      };
    case 'LOGIN_FAILURE':
      return {
        ...state,
        loading: false,
        error: action.payload,
        isAuthenticated: false,
      };
    case 'LOGOUT':
      return {
        ...state,
        user: null,
        token: null,
        isAuthenticated: false,
        loading: false,
        error: null,
      };
    case 'SET_USER':
      return {
        ...state,
        user: action.payload,
      };
    case 'SET_LOADING':
      return {
        ...state,
        loading: action.payload,
      };
    case 'SET_ERROR':
      return {
        ...state,
        error: action.payload,
        loading: false,
      };
    case 'CLEAR_ERROR':
      return {
        ...state,
        error: null,
      };
    default:
      return state;
  }
};

const initialState = {
  user: null,
  token: null,
  isAuthenticated: false,
  loading: false,
  error: null,
};

export const AuthProvider = ({ children }) => {
  const [state, dispatch] = useReducer(authReducer, initialState);

  useEffect(() => {
    // Check if user is logged in on app start
    const initializeAuth = () => {
      const token = localStorage.getItem('token');
      const user = authService.getCurrentUser();
      
      if (token && user) {
        dispatch({
          type: 'LOGIN_SUCCESS',
          payload: { access_token: token, user },
        });
      }
    };

    initializeAuth();
  }, []);

  const login = async (credentials) => {
    dispatch({ type: 'LOGIN_START' });
    try {
      console.log('ð AuthContext: Iniciando login...');
      const response = await authService.login(credentials);
      console.log('â AuthContext: Login exitoso', response);
      
      dispatch({
        type: 'LOGIN_SUCCESS',
        payload: response,
      });
      return response;
    } catch (error) {
      console.error('â AuthContext: Error en login', error);
      const errorMessage = error.response?.data?.message || 
                          error.message || 
                          'Error al iniciar sesiÃ³n';
      dispatch({
        type: 'LOGIN_FAILURE',
        payload: errorMessage,
      });
      throw error;
    }
  };

  const register = async (userData) => {
    dispatch({ type: 'LOGIN_START' });
    try {
      console.log('ð AuthContext: Iniciando registro...');
      const response = await authService.register(userData);
      console.log('â AuthContext: Registro exitoso', response);
      return response;
    } catch (error) {
      console.error('â AuthContext: Error en registro', error);
      const errorMessage = error.response?.data?.message || 
                          error.message || 
                          'Error al registrarse';
      dispatch({
        type: 'LOGIN_FAILURE',
        payload: errorMessage,
      });
      throw error;
    }
  };

  const logout = async () => {
    try {
      console.log('ðª AuthContext: Cerrando sesiÃ³n...');
      await authService.logout();
    } catch (error) {
      console.error('Error during logout:', error);
    } finally {
      dispatch({ type: 'LOGOUT' });
      console.log('â AuthContext: SesiÃ³n cerrada');
    }
  };

  const updateUser = (userData) => {
    dispatch({ type: 'SET_USER', payload: userData });
    localStorage.setItem('user', JSON.stringify(userData));
  };

  const clearError = () => {
    dispatch({ type: 'CLEAR_ERROR' });
  };

  const setLoading = (loading) => {
    dispatch({ type: 'SET_LOADING', payload: loading });
  };

  const value = {
    ...state,
    login,
    register,
    logout,
    updateUser,
    clearError,
    setLoading,
  };

  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
};

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};
```

## c:\Users\rexma\Desktop\chambing-website\src\context\AppContext.jsx
```
import React, { createContext, useContext, useReducer, useEffect } from 'react';
import { serviceService } from '../services/serviceService';
import { contractService } from '../services/contractService';

const AppContext = createContext();

const appReducer = (state, action) => {
  switch (action.type) {
    case 'SET_LOADING':
      return { ...state, loading: action.payload };
    case 'SET_ERROR':
      return { ...state, error: action.payload, loading: false };
    case 'CLEAR_ERROR':
      return { ...state, error: null };
    case 'SET_CATEGORIES':
      return { ...state, categories: action.payload };
    case 'SET_CONTRACTS':
      return { ...state, contracts: action.payload };
    case 'ADD_CONTRACT':
      return { 
        ...state, 
        contracts: [action.payload, ...state.contracts] 
      };
    case 'UPDATE_CONTRACT':
      return {
        ...state,
        contracts: state.contracts.map(contract =>
          contract.id === action.payload.id ? action.payload : contract
        ),
      };
    case 'SET_NOTIFICATIONS':
      return { ...state, notifications: action.payload };
    case 'ADD_NOTIFICATION':
      return {
        ...state,
        notifications: [action.payload, ...state.notifications],
      };
    case 'REMOVE_NOTIFICATION':
      return {
        ...state,
        notifications: state.notifications.filter(
          notification => notification.id !== action.payload
        ),
      };
    default:
      return state;
  }
};

const initialState = {
  loading: false,
  error: null,
  categories: [],
  contracts: [],
  notifications: [],
};

export const AppProvider = ({ children }) => {
  const [state, dispatch] = useReducer(appReducer, initialState);

  // Load initial data
  useEffect(() => {
    loadCategories();
  }, []);

  const setLoading = (loading) => {
    dispatch({ type: 'SET_LOADING', payload: loading });
  };

  const setError = (error) => {
    dispatch({ type: 'SET_ERROR', payload: error });
  };

  const clearError = () => {
    dispatch({ type: 'CLEAR_ERROR' });
  };

  const loadCategories = async () => {
    try {
      console.log('ð AppContext: Cargando categorÃ­as...');
      const categories = await serviceService.getCategories();
      dispatch({ type: 'SET_CATEGORIES', payload: categories });
      console.log('â AppContext: CategorÃ­as cargadas', categories.length);
    } catch (error) {
      console.error('â AppContext: Error cargando categorÃ­as', error);
      // No mostrar error en UI para categorÃ­as, usar datos mock
      const mockCategories = [
        { id: 1, nombre: 'Limpieza DomÃ©stica', descripcion: 'Servicio de limpieza para el hogar', icono: 'cleaning' },
        { id: 2, nombre: 'PlomerÃ­a', descripcion: 'Reparaciones e instalaciones', icono: 'plumbing' },
        { id: 3, nombre: 'Electricidad', descripcion: 'Trabajos elÃ©ctricos', icono: 'electrical' },
        { id: 4, nombre: 'JardinerÃ­a', descripcion: 'Mantenimiento de jardines', icono: 'garden' },
        { id: 5, nombre: 'CarpinterÃ­a', descripcion: 'Trabajos en madera', icono: 'carpenter' },
        { id: 6, nombre: 'ConstrucciÃ³n', descripcion: 'Obras y remodelaciones', icono: 'build' },
      ];
      dispatch({ type: 'SET_CATEGORIES', payload: mockCategories });
    }
  };

  const loadContracts = async () => {
    try {
      setLoading(true);
      console.log('ð AppContext: Cargando contratos...');
      const contracts = await contractService.getMyContracts();
      dispatch({ type: 'SET_CONTRACTS', payload: contracts });
      console.log('â AppContext: Contratos cargados', contracts.length);
    } catch (error) {
      console.error('â AppContext: Error cargando contratos', error);
      setError('Error al cargar contratos');
    } finally {
      setLoading(false);
    }
  };

  const createContract = async (contractData) => {
    try {
      setLoading(true);
      console.log('ð AppContext: Creando contrato...');
      const newContract = await contractService.createContract(contractData);
      dispatch({ type: 'ADD_CONTRACT', payload: newContract });
      addNotification({
        type: 'success',
        message: 'Contrato creado exitosamente',
      });
      console.log('â AppContext: Contrato creado', newContract);
      return newContract;
    } catch (error) {
      console.error('â AppContext: Error creando contrato', error);
      setError('Error al crear contrato');
      throw error;
    } finally {
      setLoading(false);
    }
  };

  const updateContract = async (contractId, updateData) => {
    try {
      setLoading(true);
      console.log('ð AppContext: Actualizando contrato...');
      const updatedContract = await contractService.updateContractStatus(contractId, updateData);
      dispatch({ type: 'UPDATE_CONTRACT', payload: updatedContract });
      addNotification({
        type: 'success',
        message: 'Contrato actualizado exitosamente',
      });
      return updatedContract;
    } catch (error) {
      console.error('â AppContext: Error actualizando contrato', error);
      setError('Error al actualizar contrato');
      throw error;
    } finally {
      setLoading(false);
    }
  };

  const addNotification = (notification) => {
    const notificationWithId = {
      id: Date.now(),
      timestamp: new Date(),
      ...notification,
    };
    dispatch({ type: 'ADD_NOTIFICATION', payload: notificationWithId });

    // Auto remove notification after 5 seconds
    setTimeout(() => {
      removeNotification(notificationWithId.id);
    }, 5000);
  };

  const removeNotification = (notificationId) => {
    dispatch({ type: 'REMOVE_NOTIFICATION', payload: notificationId });
  };

  const value = {
    ...state,
    setLoading,
    setError,
    clearError,
    loadCategories,
    loadContracts,
    createContract,
    updateContract,
    addNotification,
    removeNotification,
  };

  return <AppContext.Provider value={value}>{children}</AppContext.Provider>;
};

export const useApp = () => {
  const context = useContext(AppContext);
  if (!context) {
    throw new Error('useApp must be used within an AppProvider');
  }
  return context;
};

```

## c:\Users\rexma\Desktop\chambing-website\src\hooks\useApi.js
```
import { useState, useEffect } from 'react';

export const useApi = (apiFunction, dependencies = []) => {
    const [data, setData] = useState(null);
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);

    
  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        setError(null);
        console.log('ð useApi: Fetching data...');
        const result = await apiFunction();
        setData(result);
        console.log('â useApi: Data fetched successfully');
      } catch (err) {
        console.error('â useApi: Error fetching data', err);
        setError(err.response?.data?.message || err.message || 'Error desconocido');
      } finally {
        setLoading(false);
      }
    };

     fetchData();
  }, dependencies);

  const refetch = async () => {
    try {
      setLoading(true);
      setError(null);
      const result = await apiFunction();
      setData(result);
      return result;
    } catch (err) {
      setError(err.response?.data?.message || err.message || 'Error desconocido');
      throw err;
    } finally {
      setLoading(false);
    }
  };

  return { data, loading, error, refetch };
};

```

## c:\Users\rexma\Desktop\chambing-website\src\hooks\useLocalStorage.js
```
import { useState, useEffect } from "react";

export const useLocalStorage = (key, initialValue) => {
    const [storedValue, setStoredValue] = useState(() => {
        try {
            const item = window.localStorage.getItem(key);
            return item ? JSON.parse(item) : initialValue;
        } catch (error) {
            console.error(`Error reading localStorage key "${key}":`, error);
            return initialValue;
        }
    });
const setValue = (value) => {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      window.localStorage.setItem(key, JSON.stringify(valueToStore));
    } catch (error) {
      console.error(`Error setting localStorage key "${key}":`, error);
    }
  };

  const removeValue = () => {
    try {
      window.localStorage.removeItem(key);
      setStoredValue(initialValue);
    } catch (error) {
      console.error(`Error removing localStorage key "${key}":`, error);
    }
  };

  return [storedValue, setValue, removeValue];

}
```

## c:\Users\rexma\Desktop\chambing-website\src\hooks\useNotification.js
```
import { useApp } from '../context/AppContext';

export const useNotification = () => {
  const { addNotification, removeNotification, notifications } = useApp();

  const showSuccess = (message, options = {}) => {
    addNotification({
      type: 'success',
      message,
      ...options,
    });
  };

  const showError = (message, options = {}) => {
    addNotification({
      type: 'error',
      message,
      ...options,
    });
  };

  const showWarning = (message, options = {}) => {
    addNotification({
      type: 'warning',
      message,
      ...options,
    });
  };

  const showInfo = (message, options = {}) => {
    addNotification({
      type: 'info',
      message,
      ...options,
    });
  };

  return {
    notifications,
    showSuccess,
    showError,
    showWarning,
    showInfo,
    removeNotification,
  };
};
```

## c:\Users\rexma\Desktop\chambing-website\src\hooks\useForm.js
```
import { useState } from 'react';

export const useForm = (initialValues = {}, validationSchema = null) => {
  const [values, setValues] = useState(initialValues);
  const [errors, setErrors] = useState({});
  const [touched, setTouched] = useState({});
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleChange = (name, value) => {
    setValues(prev => ({
      ...prev,
      [name]: value,
    }));

    // Clear error when user starts typing
    if (errors[name]) {
      setErrors(prev => ({
        ...prev,
        [name]: undefined,
      }));
    }
  };

  const handleBlur = (name) => {
    setTouched(prev => ({
      ...prev,
      [name]: true,
    }));

    // Validate field on blur if schema provided
    if (validationSchema) {
      validateField(name, values[name]);
    }
  };

  const validateField = (name, value) => {
    if (!validationSchema) return true;

    try {
      validationSchema.validateSyncAt(name, { [name]: value });
      setErrors(prev => ({
        ...prev,
        [name]: undefined,
      }));
      return true;
    } catch (error) {
      setErrors(prev => ({
        ...prev,
        [name]: error.message,
      }));
      return false;
    }
  };

  const validateForm = () => {
    if (!validationSchema) return true;

    try {
      validationSchema.validateSync(values, { abortEarly: false });
      setErrors({});
      return true;
    } catch (error) {
      const formErrors = {};
      error.inner.forEach(err => {
        formErrors[err.path] = err.message;
      });
      setErrors(formErrors);
      return false;
    }
  };

  const handleSubmit = async (onSubmit) => {
    setIsSubmitting(true);
    
    // Mark all fields as touched
    const touchedFields = {};
    Object.keys(values).forEach(key => {
      touchedFields[key] = true;
    });
    setTouched(touchedFields);

    // Validate form
    if (!validateForm()) {
      setIsSubmitting(false);
      return;
    }

    try {
      await onSubmit(values);
    } catch (error) {
      console.error('Form submission error:', error);
    } finally {
      setIsSubmitting(false);
    }
  };

  const reset = (newValues = initialValues) => {
    setValues(newValues);
    setErrors({});
    setTouched({});
    setIsSubmitting(false);
  };

  return {
    values,
    errors,
    touched,
    isSubmitting,
    handleChange,
    handleBlur,
    handleSubmit,
    reset,
    setValues,
    setErrors,
  };
};

```

## c:\Users\rexma\Desktop\chambing-website\src\utils\constants.js
```
export const USER_TYPES = {
  CLIENTE: 'cliente',
  TRABAJADOR: 'trabajador',
  ADMIN: 'admin',
};

export const CONTRACT_STATES = {
  PENDIENTE: 'pendiente',
  ACEPTADO: 'aceptado',
  EN_PROGRESO: 'en_progreso',
  COMPLETADO: 'completado',
  CANCELADO: 'cancelado',
};

export const PAYMENT_STATES = {
  PENDIENTE: 'pendiente',
  PROCESANDO: 'procesando',
  COMPLETADO: 'completado',
  FALLIDO: 'fallido',
  REEMBOLSADO: 'reembolsado',
};

export const NOTIFICATION_TYPES = {
  SUCCESS: 'success',
  ERROR: 'error',
  WARNING: 'warning',
  INFO: 'info',
};

export const API_ENDPOINTS = {
  AUTH: {
    LOGIN: '/auth/login',
    REGISTER: '/auth/register',
    LOGOUT: '/auth/logout',
    REFRESH: '/auth/refresh',
  },
  USERS: {
    PROFILE: '/users/profile',
    UPDATE_PROFILE: '/users/profile',
    UPLOAD_PHOTO: '/users/profile-photo',
  },
  SERVICES: {
    CATEGORIES: '/services/categories',
    WORKER_CATEGORIES: '/services/worker-categories',
    TARIFFS: '/services/tariffs',
  },
  CONTRACTS: {
    BASE: '/contracts',
    MY_CONTRACTS: '/contracts/my-contracts',
    STATES: '/contracts/states',
  },
  PAYMENTS: {
    BASE: '/payments',
    HISTORY: '/payments/history',
    BALANCE: '/payments/balance',
    WOMPI: '/payments/wompi',
  },
};
```

## c:\Users\rexma\Desktop\chambing-website\src\utils\helpers.js
```
export const formatCurrency = (amount, currency = 'USD') => {
  return new Intl.NumberFormat('es-SV', {
    style: 'currency',
    currency: currency,
  }).format(amount);
};

export const formatDate = (date, options = {}) => {
  const defaultOptions = {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    ...options,
  };
  
  return new Intl.DateTimeFormat('es-SV', defaultOptions).format(new Date(date));
};

export const formatPhoneNumber = (phone) => {
  // Format salvadoran phone numbers
  const cleaned = phone.replace(/\D/g, '');
  const match = cleaned.match(/^(\d{4})(\d{4})$/);
  
  if (match) {
    return `${match[1]}-${match[2]}`;
  }
  
  return phone;
};

export const getInitials = (name) => {
  return name
    .split(' ')
    .map(word => word.charAt(0))
    .join('')
    .toUpperCase()
    .slice(0, 2);
};

export const truncateText = (text, maxLength = 100) => {
  if (text.length <= maxLength) return text;
  return text.slice(0, maxLength) + '...';
};

export const debounce = (func, wait) => {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
};

export const generateUniqueId = () => {
  return Date.now().toString(36) + Math.random().toString(36).substr(2);
};

export const isValidEmail = (email) => {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
};

export const capitalizeFirst = (str) => {
  return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();
};
```

## c:\Users\rexma\Desktop\chambing-website\src\index.css
```
:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}

```

## c:\Users\rexma\Desktop\chambing-website\src\pages\Home.jsx
```
import React, { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
import {
  Box,
  Container,
  Typography,
  Button,
  Grid,
  Card,
  CardContent,
  CardActions,
  Avatar,
  Chip,
  Paper,
  useTheme,
  useMediaQuery,
  Rating,
} from '@mui/material';
import {
  Home as HomeIcon,
  Build,
  Cleaning,
  Plumbing,
  ElectricalServices,
  Carpenter,
  Star,
  CheckCircle,
  Security,
  Schedule,
  Payment,
} from '@mui/icons-material';
import { useAuth } from '../context/AuthContext';
import { serviceService } from '../services/serviceService';

const Home = () => {
  const { isAuthenticated } = useAuth();
  const navigate = useNavigate();
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));
  const [categories, setCategories] = useState([]);

  useEffect(() => {
    const loadCategories = async () => {
      try {
        const data = await serviceService.getCategories();
        setCategories(data.slice(0, 6)); // Mostrar solo 6 categorÃ­as principales
      } catch (error) {
        console.error('Error loading categories:', error);
        // Datos mock si falla la API
        setCategories([
          { id: 1, nombre: 'Limpieza DomÃ©stica', descripcion: 'Servicio profesional de limpieza para tu hogar', icono: 'cleaning' },
          { id: 2, nombre: 'PlomerÃ­a', descripcion: 'Reparaciones e instalaciones de plomerÃ­a', icono: 'plumbing' },
          { id: 3, nombre: 'Electricidad', descripcion: 'Instalaciones y reparaciones elÃ©ctricas', icono: 'electrical' },
          { id: 4, nombre: 'CarpinterÃ­a', descripcion: 'Trabajos en madera y muebles', icono: 'carpenter' },
          { id: 5, nombre: 'JardinerÃ­a', descripcion: 'Mantenimiento de jardines y Ã¡reas verdes', icono: 'garden' },
          { id: 6, nombre: 'ConstrucciÃ³n', descripcion: 'Trabajos de construcciÃ³n y remodelaciÃ³n', icono: 'build' },
        ]);
      }
    };

    loadCategories();
  }, []);

  const getServiceIcon = (iconName) => {
    const icons = {
      cleaning: <Cleaning />,
      plumbing: <Plumbing />,
      electrical: <ElectricalServices />,
      carpenter: <Carpenter />,
      garden: <HomeIcon />,
      build: <Build />,
    };
    return icons[iconName] || <Build />;
  };

  const features = [
    {
      icon: <Security color="primary" />,
      title: 'Trabajadores Verificados',
      description: 'Todos nuestros profesionales pasan por un proceso de verificaciÃ³n riguroso',
    },
    {
      icon: <Schedule color="primary" />,
      title: 'Disponibilidad 24/7',
      description: 'Encuentra ayuda cuando la necesites, cualquier dÃ­a de la semana',
    },
    {
      icon: <Payment color="primary" />,
      title: 'Pagos Seguros',
      description: 'Sistema de pagos protegido con mÃºltiples opciones de pago',
    },
  ];

  const testimonials = [
    {
      name: 'MarÃ­a GonzÃ¡lez',
      rating: 5,
      comment: 'Excelente servicio, muy profesionales y puntuales.',
      service: 'Limpieza DomÃ©stica',
    },
    {
      name: 'Carlos MartÃ­nez',
      rating: 5,
      comment: 'Resolvieron mi problema de plomerÃ­a rÃ¡pidamente.',
      service: 'PlomerÃ­a',
    },
    {
      name: 'Ana RodrÃ­guez',
      rating: 4,
      comment: 'Muy contentos con el trabajo de jardinerÃ­a realizado.',
      service: 'JardinerÃ­a',
    },
  ];

  return (
    <Box>
      {/* Hero Section */}
      <Paper
        sx={{
          backgroundImage: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
          color: 'white',
          py: { xs: 6, md: 10 },
          textAlign: 'center',
        }}
      >
        <Container maxWidth="lg">
          <Typography
            variant={isMobile ? 'h3' : 'h2'}
            component="h1"
            gutterBottom
            fontWeight="bold"
          >
            Conectamos talento con oportunidades
          </Typography>
          <Typography
            variant={isMobile ? 'h6' : 'h5'}
            sx={{ mb: 4, opacity: 0.9 }}
          >
            Encuentra profesionales calificados para tu hogar o Ãºnete como trabajador independiente
          </Typography>
          <Box sx={{ display: 'flex', gap: 2, justifyContent: 'center', flexWrap: 'wrap' }}>
            {isAuthenticated ? (
              <Button
                variant="contained"
                size="large"
                onClick={() => navigate('/dashboard')}
                sx={{
                  bgcolor: 'white',
                  color: 'primary.main',
                  '&:hover': { bgcolor: 'grey.100' },
                }}
              >
                Ir a Dashboard
              </Button>
            ) : (
              <>
                <Button
                  variant="contained"
                  size="large"
                  onClick={() => navigate('/register')}
                  sx={{
                    bgcolor: 'white',
                    color: 'primary.main',
                    '&:hover': { bgcolor: 'grey.100' },
                  }}
                >
                  Comenzar Ahora
                </Button>
                <Button
                  variant="outlined"
                  size="large"
                  onClick={() => navigate('/login')}
                  sx={{
                    borderColor: 'white',
                    color: 'white',
                    '&:hover': { borderColor: 'white', bgcolor: 'rgba(255,255,255,0.1)' },
                  }}
                >
                  Iniciar SesiÃ³n
                </Button>
              </>
            )}
          </Box>
        </Container>
      </Paper>

      {/* Services Section */}
      <Container maxWidth="lg" sx={{ py: 8 }}>
        <Typography variant="h3" textAlign="center" gutterBottom>
          Nuestros Servicios
        </Typography>
        <Typography
          variant="h6"
          textAlign="center"
          color="text.secondary"
          sx={{ mb: 6 }}
        >
          Encuentra el profesional perfecto para cada tarea
        </Typography>
        
        <Grid container spacing={4}>
          {categories.map((category) => (
            <Grid item xs={12} sm={6} md={4} key={category.id}>
              <Card
                sx={{
                  height: '100%',
                  transition: 'transform 0.2s',
                  '&:hover': { transform: 'translateY(-4px)' },
                }}
              >
                <CardContent sx={{ textAlign: 'center', pt: 3 }}>
                  <Avatar
                    sx={{
                      bgcolor: 'primary.main',
                      width: 64,
                      height: 64,
                      mx: 'auto',
                      mb: 2,
                    }}
                  >
                    {getServiceIcon(category.icono)}
                  </Avatar>
                  <Typography variant="h6" gutterBottom>
                    {category.nombre}
                  </Typography>
                  <Typography variant="body2" color="text.secondary">
                    {category.descripcion}
                  </Typography>
                </CardContent>
                <CardActions sx={{ justifyContent: 'center', pb: 3 }}>
                  <Button size="small" variant="outlined">
                    Ver Profesionales
                  </Button>
                </CardActions>
              </Card>
            </Grid>
          ))}
        </Grid>
      </Container>

      {/* Features Section */}
      <Box sx={{ bgcolor: 'grey.50', py: 8 }}>
        <Container maxWidth="lg">
          <Typography variant="h3" textAlign="center" gutterBottom>
            Â¿Por quÃ© elegirnos?
          </Typography>
          <Grid container spacing={4} sx={{ mt: 4 }}>
            {features.map((feature, index) => (
              <Grid item xs={12} md={4} key={index}>
                <Box textAlign="center">
                  <Avatar
                    sx={{
                      bgcolor: 'primary.light',
                      width: 80,
                      height: 80,
                      mx: 'auto',
                      mb: 2,
                    }}
                  >
                    {feature.icon}
                  </Avatar>
                  <Typography variant="h5" gutterBottom>
                    {feature.title}
                  </Typography>
                  <Typography variant="body1" color="text.secondary">
                    {feature.description}
                  </Typography>
                </Box>
              </Grid>
            ))}
          </Grid>
        </Container>
      </Box>

      {/* Testimonials Section */}
      <Container maxWidth="lg" sx={{ py: 8 }}>
        <Typography variant="h3" textAlign="center" gutterBottom>
          Lo que dicen nuestros usuarios
        </Typography>
        <Grid container spacing={4} sx={{ mt: 4 }}>
          {testimonials.map((testimonial, index) => (
            <Grid item xs={12} md={4} key={index}>
              <Card sx={{ height: '100%' }}>
                <CardContent>
                  <Box display="flex" alignItems="center" mb={2}>
                    <Avatar sx={{ mr: 2 }}>
                      {testimonial.name.charAt(0)}
                    </Avatar>
                    <Box>
                      <Typography variant="h6">{testimonial.name}</Typography>
                      <Chip label={testimonial.service} size="small" />
                    </Box>
                  </Box>
                  <Rating value={testimonial.rating} readOnly sx={{ mb: 2 }} />
                  <Typography variant="body2">"{testimonial.comment}"</Typography>
                </CardContent>
              </Card>
            </Grid>
          ))}
        </Grid>
      </Container>

      {/* CTA Section */}
      <Paper
        sx={{
          bgcolor: 'primary.main',
          color: 'white',
          py: 8,
          textAlign: 'center',
        }}
      >
        <Container maxWidth="md">
          <Typography variant="h3" gutterBottom>
            Â¿Listo para comenzar?
          </Typography>
          <Typography variant="h6" sx={{ mb: 4, opacity: 0.9 }}>
            Ãnete a miles de usuarios satisfechos en El Salvador
          </Typography>
          {!isAuthenticated && (
            <Button
              variant="contained"
              size="large"
              onClick={() => navigate('/register')}
              sx={{
                bgcolor: 'white',
                color: 'primary.main',
                '&:hover': { bgcolor: 'grey.100' },
              }}
            >
              Crear Cuenta Gratis
            </Button>
          )}
        </Container>
      </Paper>
    </Box>
  );
};

export default Home;
```

## c:\Users\rexma\Desktop\chambing-website\src\components\common\footer.jsx
```
import React from 'react';
import {
  Box,
  Container,
  Grid,
  Typography,
  Link,
  IconButton,
} from '@mui/material';
import {
  Facebook,
  Twitter,
  Instagram,
  Email,
  Phone,
  LocationOn,
} from '@mui/icons-material';

const Footer = () => {
  return (
    <Box
      component="footer"
      sx={{
        bgcolor: 'grey.900',
        color: 'white',
        py: 6,
        mt: 'auto',
      }}
    >
      <Container maxWidth="lg">
        <Grid container spacing={4}>
          <Grid item xs={12} sm={6} md={3}>
            <Typography variant="h6" gutterBottom>
              ChambingApp
            </Typography>
            <Typography variant="body2" sx={{ mb: 2 }}>
              Conectamos talento con oportunidades en El Salvador.
            </Typography>
            <Box>
              <IconButton color="inherit" aria-label="Facebook">
                <Facebook />
              </IconButton>
              <IconButton color="inherit" aria-label="Twitter">
                <Twitter />
              </IconButton>
              <IconButton color="inherit" aria-label="Instagram">
                <Instagram />
              </IconButton>
            </Box>
          </Grid>
          
          <Grid item xs={12} sm={6} md={3}>
            <Typography variant="h6" gutterBottom>
              Servicios
            </Typography>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Limpieza DomÃ©stica
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              PlomerÃ­a
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Electricidad
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              JardinerÃ­a
            </Link>
          </Grid>
          
          <Grid item xs={12} sm={6} md={3}>
            <Typography variant="h6" gutterBottom>
              Empresa
            </Typography>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Acerca de
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              TÃ©rminos de Servicio
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              PolÃ­tica de Privacidad
            </Link>
            <Link href="#" color="inherit" display="block" sx={{ mb: 1 }}>
              Ayuda
            </Link>
          </Grid>
          
          <Grid item xs={12} sm={6} md={3}>
            <Typography variant="h6" gutterBottom>
              Contacto
            </Typography>
            <Box display="flex" alignItems="center" sx={{ mb: 1 }}>
              <Email sx={{ mr: 1, fontSize: 'small' }} />
              <Typography variant="body2">info@chambingapp.com</Typography>
            </Box>
            <Box display="flex" alignItems="center" sx={{ mb: 1 }}>
              <Phone sx={{ mr: 1, fontSize: 'small' }} />
              <Typography variant="body2">+503 2234-5678</Typography>
            </Box>
            <Box display="flex" alignItems="center">
              <LocationOn sx={{ mr: 1, fontSize: 'small' }} />
              <Typography variant="body2">San Salvador, El Salvador</Typography>
            </Box>
          </Grid>
        </Grid>
        
        <Box
          sx={{
            borderTop: 1,
            borderColor: 'grey.700',
            pt: 3,
            mt: 4,
            textAlign: 'center',
          }}
        >
          <Typography variant="body2" color="grey.400">
            Â© 2024 ChambingApp. Todos los derechos reservados.
          </Typography>
        </Box>
      </Container>
    </Box>
  );
};

export default Footer;
```

## c:\Users\rexma\Desktop\chambing-website\src\components\common\navbar.jsx
```
import React, { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import {
  AppBar,
  Toolbar,
  Typography,
  Button,
  Box,
  IconButton,
  Menu,
  MenuItem,
  Avatar,
  useTheme,
  useMediaQuery,
  Drawer,
  List,
  ListItem,
  ListItemText,
} from '@mui/material';
import {
  Menu as MenuIcon,
  AccountCircle,
  Logout,
  Dashboard,
  Work,
} from '@mui/icons-material';
import { useAuth } from '../../context/AuthContext';

const Navbar = () => {
  const { user, isAuthenticated, logout } = useAuth();
  const navigate = useNavigate();
  const theme = useTheme();
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));
  
  const [anchorEl, setAnchorEl] = useState(null);
  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

  const handleMenuOpen = (event) => {
    setAnchorEl(event.currentTarget);
  };

  const handleMenuClose = () => {
    setAnchorEl(null);
  };

  const handleLogout = async () => {
    await logout();
    handleMenuClose();
    navigate('/');
  };

  const handleMobileMenuToggle = () => {
    setMobileMenuOpen(!mobileMenuOpen);
  };

  const menuItems = [
    { label: 'Inicio', path: '/', icon: null },
    { label: 'Servicios', path: '/servicios', icon: <Work /> },
  ];

  const authMenuItems = isAuthenticated
    ? [
        { label: 'Dashboard', path: '/dashboard', icon: <Dashboard /> },
        { label: 'Mi Perfil', path: '/perfil', icon: <AccountCircle /> },
      ]
    : [
        { label: 'Iniciar SesiÃ³n', path: '/login', icon: null },
        { label: 'Registrarse', path: '/register', icon: null },
      ];

  const MobileMenu = () => (
    <Drawer
      anchor="left"
      open={mobileMenuOpen}
      onClose={handleMobileMenuToggle}
    >
      <Box sx={{ width: 250, pt: 2 }}>
        <List>
          {[...menuItems, ...authMenuItems].map((item, index) => (
            <ListItem
              button
              key={index}
              component={Link}
              to={item.path}
              onClick={handleMobileMenuToggle}
            >
              {item.icon && <Box sx={{ mr: 2 }}>{item.icon}</Box>}
              <ListItemText primary={item.label} />
            </ListItem>
          ))}
          {isAuthenticated && (
            <ListItem button onClick={handleLogout}>
              <Box sx={{ mr: 2 }}>
                <Logout />
              </Box>
              <ListItemText primary="Cerrar SesiÃ³n" />
            </ListItem>
          )}
        </List>
      </Box>
    </Drawer>
  );

  return (
    <>
      <AppBar position="sticky" elevation={1}>
        <Toolbar>
          {isMobile && (
            <IconButton
              color="inherit"
              edge="start"
              onClick={handleMobileMenuToggle}
              sx={{ mr: 2 }}
            >
              <MenuIcon />
            </IconButton>
          )}
          
          <Typography
            variant="h6"
            component={Link}
            to="/"
            sx={{
              flexGrow: 1,
              textDecoration: 'none',
              color: 'inherit',
              fontWeight: 'bold',
            }}
          >
            ChambingApp
          </Typography>

          {!isMobile && (
            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>
              {menuItems.map((item, index) => (
                <Button
                  key={index}
                  color="inherit"
                  component={Link}
                  to={item.path}
                >
                  {item.label}
                </Button>
              ))}
              
              {isAuthenticated ? (
                <>
                  <Button
                    color="inherit"
                    component={Link}
                    to="/dashboard"
                    startIcon={<Dashboard />}
                  >
                    Dashboard
                  </Button>
                  <IconButton color="inherit" onClick={handleMenuOpen}>
                    <Avatar sx={{ width: 32, height: 32 }}>
                      {user?.nombre?.charAt(0) || <AccountCircle />}
                    </Avatar>
                  </IconButton>
                </>
              ) : (
                <>
                  <Button color="inherit" component={Link} to="/login">
                    Iniciar SesiÃ³n
                  </Button>
                  <Button
                    variant="contained"
                    color="secondary"
                    component={Link}
                    to="/register"
                    sx={{ ml: 1 }}
                  >
                    Registrarse
                  </Button>
                </>
              )}
            </Box>
          )}
        </Toolbar>
      </AppBar>

      <Menu
        anchorEl={anchorEl}
        open={Boolean(anchorEl)}
        onClose={handleMenuClose}
      >
        <MenuItem component={Link} to="/perfil" onClick={handleMenuClose}>
          <AccountCircle sx={{ mr: 1 }} />
          Mi Perfil
        </MenuItem>
        <MenuItem onClick={handleLogout}>
          <Logout sx={{ mr: 1 }} />
          Cerrar SesiÃ³n
        </MenuItem>
      </Menu>

      <MobileMenu />
    </>
  );
};

export default Navbar;

```

## c:\Users\rexma\Desktop\chambing-website\src\components\auth\RegisterForm.jsx
```
import React, { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import {
  Box,
  Container,
  Card,
  CardContent,
  TextField,
  Button,
  Typography,
  Alert,
  InputAdornment,
  IconButton,
  FormControl,
  InputLabel,
  Select,
  MenuItem,
  FormHelperText,
  Divider,
} from '@mui/material';
import { 
  Visibility, 
  VisibilityOff, 
  Email, 
  Lock, 
  Person,
  Phone,
  LocationOn,
  PersonAdd,
} from '@mui/icons-material';
import { useForm } from 'react-hook-form';
import { yupResolver } from '@hookform/resolvers/yup';
import * as yup from 'yup';

const schema = yup.object().shape({
  nombre: yup.string().required('Nombre es requerido'),
  apellido: yup.string().required('Apellido es requerido'),
  email: yup.string().email('Email invÃ¡lido').required('Email es requerido'),
  telefono: yup.string().required('TelÃ©fono es requerido'),
  departamento: yup.string().required('Departamento es requerido'),
  municipio: yup.string().required('Municipio es requerido'),
  password: yup
    .string()
    .min(6, 'La contraseÃ±a debe tener al menos 6 caracteres')
    .required('ContraseÃ±a es requerida'),
  confirmPassword: yup
    .string()
    .oneOf([yup.ref('password')], 'Las contraseÃ±as deben coincidir')
    .required('Confirmar contraseÃ±a es requerido'),
  tipo: yup.string().oneOf(['cliente', 'trabajador']).required('Tipo de usuario es requerido'),
});

const departamentosSV = [
  'AhuachapÃ¡n', 'CabaÃ±as', 'Chalatenango', 'CuscatlÃ¡n', 'La Libertad',
  'La Paz', 'La UniÃ³n', 'MorazÃ¡n', 'San Miguel', 'San Salvador',
  'San Vicente', 'Santa Ana', 'Sonsonate', 'UsulutÃ¡n'
];

const RegisterForm = () => {
  const [showPassword, setShowPassword] = useState(false);
  const [showConfirmPassword, setShowConfirmPassword] = useState(false);
  const { register: registerUser, loading, error } = useAuth();
  const navigate = useNavigate();

  const {
    register,
    handleSubmit,
    watch,
    formState: { errors },
  } = useForm({
    resolver: yupResolver(schema),
    defaultValues: {
      tipo: 'cliente',
    },
  });

  const watchTipo = watch('tipo');

  const onSubmit = async (data) => {
    try {
      console.log('ð Intentando registro con:', { 
        email: data.email, 
        tipo: data.tipo 
      });
      
      const { confirmPassword, ...userData } = data;
      await registerUser(userData);
      
      console.log('â Registro exitoso');
      navigate('/login', { 
        state: { 
          message: 'Registro exitoso. Por favor inicia sesiÃ³n.' 
        } 
      });
    } catch (error) {
      console.error('â Error en registro:', error);
    }
  };

  return (
    <Container maxWidth="md" sx={{ py: 8 }}>
      <Card elevation={3}>
        <CardContent sx={{ p: 4 }}>
          <Box textAlign="center" mb={3}>
            <PersonAdd color="primary" sx={{ fontSize: 48, mb: 2 }} />
            <Typography variant="h4" component="h1" gutterBottom>
              Crear Cuenta
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Ãnete a la comunidad de ChambingApp
            </Typography>
          </Box>
          
          {error && (
            <Alert severity="error" sx={{ mb: 2 }}>
              {error}
            </Alert>
          )}

          <form onSubmit={handleSubmit(onSubmit)}>
            {/* Tipo de usuario */}
            <FormControl fullWidth margin="normal" error={!!errors.tipo}>
              <InputLabel>Tipo de Usuario</InputLabel>
              <Select
                {...register('tipo')}
                label="Tipo de Usuario"
                defaultValue="cliente"
              >
                <MenuItem value="cliente">
                  Cliente - Busco servicios
                </MenuItem>
                <MenuItem value="trabajador">
                  Trabajador - Ofrezco servicios
                </MenuItem>
              </Select>
              <FormHelperText>
                {errors.tipo?.message || 
                 (watchTipo === 'cliente' ? 
                   'PodrÃ¡s contratar servicios' : 
                   'PodrÃ¡s ofrecer tus servicios')}
              </FormHelperText>
            </FormControl>

            {/* Resto del formulario igual... */}
            {/* [El resto del cÃ³digo del RegisterForm permanece igual] */}
            
            <Button
              type="submit"
              fullWidth
              variant="contained"
              size="large"
              disabled={loading}
              sx={{ mt: 3, mb: 2, py: 1.5 }}
            >
              {loading ? 'Creando cuenta...' : 'Crear Cuenta'}
            </Button>

            <Divider sx={{ my: 2 }}>
              <Typography variant="body2" color="text.secondary">
                o
              </Typography>
            </Divider>

            <Box textAlign="center">
              <Typography variant="body2">
                Â¿Ya tienes cuenta?{' '}
                <Link 
                  to="/login" 
                  style={{ 
                    color: '#2563eb',
                    textDecoration: 'none',
                    fontWeight: 'bold'
                  }}
                >
                  Inicia sesiÃ³n aquÃ­
                </Link>
              </Typography>
            </Box>
          </form>
        </CardContent>
      </Card>
    </Container>
  );
};

export default RegisterForm;
```

## c:\Users\rexma\Desktop\chambing-website\src\theme\muiTheme.js
```
// src/theme/muiTheme.js - ARCHIVO FALTANTE
import { createTheme } from '@mui/material/styles';

export const theme = createTheme({
  palette: {
    primary: {
      main: '#2563eb',
      light: '#3b82f6',
      dark: '#1d4ed8',
      contrastText: '#ffffff',
    },
    secondary: {
      main: '#64748b',
      light: '#94a3b8',
      dark: '#475569',
      contrastText: '#ffffff',
    },
    success: {
      main: '#10b981',
      light: '#34d399',
      dark: '#047857',
    },
    warning: {
      main: '#f59e0b',
      light: '#fbbf24',
      dark: '#d97706',
    },
    error: {
      main: '#ef4444',
      light: '#f87171',
      dark: '#dc2626',
    },
    info: {
      main: '#3b82f6',
      light: '#60a5fa',
      dark: '#2563eb',
    },
    background: {
      default: '#f8fafc',
      paper: '#ffffff',
    },
    text: {
      primary: '#1e293b',
      secondary: '#64748b',
    },
    grey: {
      50: '#f8fafc',
      100: '#f1f5f9',
      200: '#e2e8f0',
      300: '#cbd5e1',
      400: '#94a3b8',
      500: '#64748b',
      600: '#475569',
      700: '#334155',
      800: '#1e293b',
      900: '#0f172a',
    },
  },
  typography: {
    fontFamily: '"Roboto", "Helvetica", "Arial", sans-serif',
    h1: {
      fontSize: '2.5rem',
      fontWeight: 700,
      lineHeight: 1.2,
    },
    h2: {
      fontSize: '2rem',
      fontWeight: 600,
      lineHeight: 1.3,
    },
    h3: {
      fontSize: '1.75rem',
      fontWeight: 600,
      lineHeight: 1.3,
    },
    h4: {
      fontSize: '1.5rem',
      fontWeight: 500,
      lineHeight: 1.4,
    },
    h5: {
      fontSize: '1.25rem',
      fontWeight: 500,
      lineHeight: 1.4,
    },
    h6: {
      fontSize: '1rem',
      fontWeight: 500,
      lineHeight: 1.5,
    },
    body1: {
      fontSize: '1rem',
      lineHeight: 1.6,
    },
    body2: {
      fontSize: '0.875rem',
      lineHeight: 1.5,
    },
    button: {
      textTransform: 'none',
      fontWeight: 500,
    },
  },
  shape: {
    borderRadius: 8,
  },
  spacing: 8,
  components: {
    MuiButton: {
      styleOverrides: {
        root: {
          textTransform: 'none',
          borderRadius: '8px',
          fontSize: '1rem',
          fontWeight: 500,
          padding: '8px 16px',
          transition: 'all 0.2s ease-in-out',
          '&:hover': {
            transform: 'translateY(-1px)',
            boxShadow: '0 4px 8px rgba(0, 0, 0, 0.12)',
          },
        },
        containedPrimary: {
          background: 'linear-gradient(45deg, #2563eb 30%, #3b82f6 90%)',
          boxShadow: '0 2px 4px rgba(37, 99, 235, 0.3)',
        },
        sizeLarge: {
          padding: '12px 24px',
          fontSize: '1.1rem',
        },
      },
    },
    MuiTextField: {
      styleOverrides: {
        root: {
          '& .MuiOutlinedInput-root': {
            borderRadius: '8px',
            transition: 'all 0.2s ease-in-out',
            '&:hover': {
              '& .MuiOutlinedInput-notchedOutline': {
                borderColor: '#3b82f6',
              },
            },
            '&.Mui-focused': {
              '& .MuiOutlinedInput-notchedOutline': {
                borderColor: '#2563eb',
                borderWidth: 2,
              },
            },
          },
        },
      },
    },
    MuiCard: {
      styleOverrides: {
        root: {
          borderRadius: '12px',
          boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
          transition: 'all 0.3s ease-in-out',
          border: '1px solid rgba(0, 0, 0, 0.05)',
          '&:hover': {
            boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
            transform: 'translateY(-2px)',
          },
        },
      },
    },
    MuiAppBar: {
      styleOverrides: {
        root: {
          boxShadow: '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
          backgroundColor: '#ffffff',
          color: '#1e293b',
        },
      },
    },
    MuiChip: {
      styleOverrides: {
        root: {
          borderRadius: '6px',
          fontWeight: 500,
        },
        colorPrimary: {
          backgroundColor: '#dbeafe',
          color: '#1d4ed8',
        },
        colorSecondary: {
          backgroundColor: '#f1f5f9',
          color: '#475569',
        },
      },
    },
    MuiAlert: {
      styleOverrides: {
        root: {
          borderRadius: '8px',
          border: '1px solid',
        },
        standardSuccess: {
          backgroundColor: '#f0fdf4',
          borderColor: '#22c55e',
          color: '#166534',
        },
        standardError: {
          backgroundColor: '#fef2f2',
          borderColor: '#ef4444',
          color: '#dc2626',
        },
        standardWarning: {
          backgroundColor: '#fffbeb',
          borderColor: '#f59e0b',
          color: '#d97706',
        },
        standardInfo: {
          backgroundColor: '#eff6ff',
          borderColor: '#3b82f6',
          color: '#2563eb',
        },
      },
    },
    MuiAvatar: {
      styleOverrides: {
        root: {
          backgroundColor: '#3b82f6',
          fontWeight: 600,
        },
      },
    },
    MuiDrawer: {
      styleOverrides: {
        paper: {
          borderRadius: '0 12px 12px 0',
          border: 'none',
          boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1)',
        },
      },
    },
    MuiMenu: {
      styleOverrides: {
        paper: {
          borderRadius: '8px',
          boxShadow: '0 10px 15px -3px rgba(0, 0, 0, 0.1)',
          border: '1px solid rgba(0, 0, 0, 0.05)',
        },
      },
    },
    MuiSnackbar: {
      styleOverrides: {
        root: {
          '& .MuiAlert-root': {
            borderRadius: '8px',
          },
        },
      },
    },
  },
  breakpoints: {
    values: {
      xs: 0,
      sm: 600,
      md: 900,
      lg: 1200,
      xl: 1536,
    },
  },
});

// Tema oscuro (para futuro uso)
export const darkTheme = createTheme({
  ...theme,
  palette: {
    mode: 'dark',
    primary: {
      main: '#3b82f6',
      light: '#60a5fa',
      dark: '#2563eb',
    },
    background: {
      default: '#0f172a',
      paper: '#1e293b',
    },
    text: {
      primary: '#f8fafc',
      secondary: '#cbd5e1',
    },
  },
});

export default theme;
```

## c:\Users\rexma\Desktop\chambing-website\src\components\auth\LoginForm.jsx
```
import React, { useState } from 'react';
import { useNavigate, useLocation, Link } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import {
  Box,
  Container,
  Card,
  CardContent,
  TextField,
  Button,
  Typography,
  Alert,
  InputAdornment,
  IconButton,
  Divider,
  Paper,
} from '@mui/material';
import { 
  Visibility, 
  VisibilityOff, 
  Email, 
  Lock,
  Login as LoginIcon 
} from '@mui/icons-material';
import { useForm } from 'react-hook-form';
import { yupResolver } from '@hookform/resolvers/yup';
import * as yup from 'yup';

const schema = yup.object().shape({
  email: yup
    .string()
    .email('Email invÃ¡lido')
    .required('Email es requerido'),
  password: yup
    .string()
    .min(6, 'La contraseÃ±a debe tener al menos 6 caracteres')
    .required('ContraseÃ±a es requerida'),
});

const LoginForm = () => {
  const [showPassword, setShowPassword] = useState(false);
  const { login, loading, error } = useAuth();
  const navigate = useNavigate();
  const location = useLocation();

  const from = location.state?.from?.pathname || '/dashboard';
  const message = location.state?.message;

  const {
    register,
    handleSubmit,
    setValue,
    formState: { errors },
  } = useForm({
    resolver: yupResolver(schema),
  });

  // FunciÃ³n para llenar datos de prueba
  const fillTestData = (userType) => {
    if (userType === 'cliente') {
      setValue('email', 'cliente@test.com');
      setValue('password', 'password123');
    } else if (userType === 'trabajador') {
      setValue('email', 'trabajador@test.com');
      setValue('password', 'password123');
    }
  };

  const onSubmit = async (data) => {
    try {
      console.log('ð Intentando login con:', { email: data.email });
      await login(data);
      console.log('â Login exitoso, redirigiendo a:', from);
      navigate(from, { replace: true });
    } catch (error) {
      console.error('â Error en login:', error);
    }
  };

  return (
    <Container maxWidth="sm" sx={{ py: 8 }}>
      <Card elevation={3}>
        <CardContent sx={{ p: 4 }}>
          <Box textAlign="center" mb={3}>
            <LoginIcon color="primary" sx={{ fontSize: 48, mb: 2 }} />
            <Typography variant="h4" component="h1" gutterBottom>
              Iniciar SesiÃ³n
            </Typography>
            <Typography variant="body2" color="text.secondary">
              Accede a tu cuenta de ChambingApp
            </Typography>
          </Box>
          
          {message && (
            <Alert severity="success" sx={{ mb: 2 }}>
              {message}
            </Alert>
          )}

          {error && (
            <Alert severity="error" sx={{ mb: 2 }}>
              {error}
            </Alert>
          )}

          {/* Botones de datos de prueba */}
          <Paper 
            elevation={0} 
            sx={{ 
              bgcolor: 'grey.50', 
              p: 2, 
              mb: 3, 
              borderRadius: 2 
            }}
          >
            <Typography variant="subtitle2" gutterBottom color="text.secondary">
              ð§ª Datos de prueba para testing:
            </Typography>
            <Box sx={{ display: 'flex', gap: 1, flexWrap: 'wrap' }}>
              <Button
                size="small"
                variant="outlined"
                onClick={() => fillTestData('cliente')}
              >
                Usuario Cliente
              </Button>
              <Button
                size="small"
                variant="outlined"
                onClick={() => fillTestData('trabajador')}
              >
                Usuario Trabajador
              </Button>
            </Box>
            <Typography variant="caption" display="block" sx={{ mt: 1 }}>
              Haz clic para autocompletar los campos
            </Typography>
          </Paper>

          <form onSubmit={handleSubmit(onSubmit)}>
            <TextField
              {...register('email')}
              fullWidth
              label="Email"
              type="email"
              error={!!errors.email}
              helperText={errors.email?.message}
              margin="normal"
              autoComplete="email"
              InputProps={{
                startAdornment: (
                  <InputAdornment position="start">
                    <Email color="action" />
                  </InputAdornment>
                ),
              }}
            />

            <TextField
              {...register('password')}
              fullWidth
              label="ContraseÃ±a"
              type={showPassword ? 'text' : 'password'}
              error={!!errors.password}
              helperText={errors.password?.message}
              margin="normal"
              autoComplete="current-password"
              InputProps={{
                startAdornment: (
                  <InputAdornment position="start">
                    <Lock color="action" />
                  </InputAdornment>
                ),
                endAdornment: (
                  <InputAdornment position="end">
                    <IconButton
                      onClick={() => setShowPassword(!showPassword)}
                      edge="end"
                      aria-label="toggle password visibility"
                    >
                      {showPassword ? <VisibilityOff /> : <Visibility />}
                    </IconButton>
                  </InputAdornment>
                ),
              }}
            />

            <Button
              type="submit"
              fullWidth
              variant="contained"
              size="large"
              disabled={loading}
              sx={{ mt: 3, mb: 2, py: 1.5 }}
            >
              {loading ? 'Iniciando sesiÃ³n...' : 'Iniciar SesiÃ³n'}
            </Button>

            <Divider sx={{ my: 2 }}>
              <Typography variant="body2" color="text.secondary">
                o
              </Typography>
            </Divider>

            <Box textAlign="center">
              <Typography variant="body2">
                Â¿No tienes cuenta?{' '}
                <Link 
                  to="/register" 
                  style={{ 
                    color: 'inherit',
                    textDecoration: 'none',
                    fontWeight: 'bold',
                    color: '#2563eb'
                  }}
                >
                  RegÃ­strate aquÃ­
                </Link>
              </Typography>
            </Box>
          </form>
        </CardContent>
      </Card>

      {/* Info de debugging */}
      <Paper
        elevation={1}
        sx={{
          mt: 3,
          p: 2,
          bgcolor: 'info.light',
          color: 'info.contrastText',
        }}
      >
        <Typography variant="subtitle2" gutterBottom>
          ð§ Info de Debug:
        </Typography>
        <Typography variant="caption" component="div">
          API URL: {import.meta.env.VITE_API_URL || 'http://localhost:3001'}
        </Typography>
        <Typography variant="caption" component="div">
          Modo: {import.meta.env.MODE}
        </Typography>
        <Typography variant="caption" component="div">
          Backend debe estar corriendo en: http://localhost:3001
        </Typography>
      </Paper>
    </Container>
  );
};
```

